# 人口增长模型对比可视化

## 适用范围（2026-02-28）

1. 本文中的“新模型”结论，当前主要对应 AI 人口增长链路（已接入 `calculateAILogisticGrowth`）。
2. 玩家主循环当前仍使用 `simulation.js` 中的生育/容量段逻辑，尚未接入 `calculatePlayerLogisticGrowth`。
3. 因此，本文图表可用于评估逻辑斯蒂模型行为与目标效果，但不应直接视为“玩家运行时现状”。

## 📊 增长曲线对比

### 场景 1：低粮食产量（承载力 = 40）

```
人口
200 │                                    ╱
    │                                  ╱
180 │                                ╱
    │                              ╱
160 │                            ╱
    │                          ╱
140 │                        ╱
    │                      ╱
120 │                    ╱
    │                  ╱
100 │                ╱
    │              ╱
 80 │            ╱
    │          ╱
 60 │        ╱                    旧模型（指数增长）
    │      ╱                     持续爆炸式增长
 40 │────────────────────────── 新模型（逻辑斯蒂）
    │  ╱╱                        稳定在承载力
 20 │╱
    │
  0 └─────────────────────────────────────────────>
    0   20   40   60   80  100  120  140  160  180  天数

关键点：
- 第 40 天：旧模型 43，新模型 32
- 第 100 天：旧模型 189，新模型 40（稳定）
- 新模型在第 80 天左右达到承载力并稳定
```

### 场景 2：高粮食产量（承载力 = 400）

```
人口
2500│                                              ╱
    │                                            ╱
2000│                                          ╱
    │                                        ╱
1500│                                      ╱
    │                                    ╱
1000│                                  ╱
    │                                ╱
 500│                              ╱
    │                            ╱
 400│───────────────────────────────────── 新模型稳定线
    │                        ╱╱
 300│                    ╱╱
    │                ╱╱
 200│            ╱╱
    │        ╱╱
 100│    ╱╱
    │╱╱
   0└──────────────────────────────────────────────>
    0   20   40   60   80  100  120  140  160  180  天数

关键点：
- 第 100 天：旧模型 189，新模型 175
- 第 150 天：旧模型 658，新模型 310
- 第 200 天：旧模型 2291，新模型 380（接近稳定）
- 新模型在第 180 天左右接近承载力
```

## 📈 S型曲线详解

```
增长率
  │
  │     ╱╲
  │    ╱  ╲
  │   ╱    ╲
  │  ╱      ╲
  │ ╱        ╲
  │╱          ╲___
  └────────────────────> 人口/承载力比
  0   0.25  0.5  0.75  1.0

阶段说明：
1. P < 0.25K：缓慢起步（人口基数小）
2. P ≈ 0.5K：最快增长（拐点）
3. P > 0.75K：减速增长（接近上限）
4. P ≥ K：停止增长（达到承载力）
5. P > K：负增长（超载惩罚）
```

## 🎯 资源因子影响

```
增长倍率
 2.0 │
     │     ╱────────
 1.5 │    ╱
     │   ╱
 1.0 │──╱
     │ ╱
 0.5 │╱
     │
 0.0 └────────────────────> 粮食供应比例
     0%  50% 70% 100% 150%

粮食供应比例 = 实际粮食 / 需求粮食

- < 70%：严重短缺，负增长
- 70-100%：短缺，减速增长
- 100-150%：正常到充足
- > 150%：非常充足，加速增长
```

## 🔥 难度对比（地狱难度）

### 旧模型：完全失控

```
天数    人口        增长率
  0        16       -
 10        20      +25%
 20        26      +30%
 30        34      +31%
 40        43      +26%
 50        54      +26%
 60        70      +30%
 70        91      +30%
 80       115      +26%
 90       149      +30%
100       189      +27%

问题：
❌ 100天增长11.8倍
❌ 完全不考虑资源
❌ 持续指数增长
```

### 新模型：受资源约束

```
天数    人口    增长率    承载力利用率
  0      16      -           40%
 10      19    +19%          48%
 20      24    +26%          60%
 30      28    +17%          70%
 40      32    +14%          80%
 50      35    +9%           88%
 60      37    +6%           93%
 70      38    +3%           95%
 80      39    +3%           98%
 90      40    +3%           100%
100      40    +0%           100%

优势：
✅ 100天增长2.5倍（合理）
✅ 受粮食限制
✅ 自动稳定在承载力
```

## 🌍 真实世界对比

### 人类历史人口增长

```
年份        全球人口      增长模式
公元1年     3亿          缓慢增长
1800年      10亿         开始加速
1900年      16亿         工业革命
1950年      25亿         医疗进步
2000年      60亿         快速增长
2023年      80亿         开始减速 ← 逻辑斯蒂曲线！

观察：
- 人类人口增长也遵循S型曲线
- 受资源、技术、社会因素影响
- 不是无限指数增长
```

### 游戏模型对比

| 特征 | 旧模型 | 新模型 | 真实世界 |
|------|--------|--------|----------|
| 增长曲线 | 指数 | S型 | S型 ✅ |
| 资源约束 | 无 | 有 | 有 ✅ |
| 承载力 | 无 | 有 | 有 ✅ |
| 可预测性 | 差 | 好 | 好 ✅ |
| 游戏平衡 | 差 | 好 | - |

## 📊 不同难度下的对比

### 和平难度（倍率 0.8）

```
天数    旧模型    新模型    承载力
  0        16        16        100
 50        43        48        100
100       115        85        100
150       307       98        100
200       820       100       100

新模型优势：稳定在承载力，不会失控
```

### 地狱难度（倍率 2.0）

```
天数    旧模型    新模型    承载力
  0        16        16        100
 50        70        72        100
100       378       98        100
150      2,040      100       100
200     11,000      100       100

新模型优势：即使高倍率，也受承载力限制
```

## 🎮 游戏策略影响

### 旧模型策略
```
玩家思路：
1. 建造军事建筑
2. 等待人口自动增长
3. 不需要管理资源
4. 人口会自动爆炸式增长

问题：
❌ 缺乏策略深度
❌ 资源管理无意义
❌ AI增长失控
```

### 新模型策略（AI现状 + 玩家目标态）
```
玩家思路：
1. 平衡粮食生产（农场）
2. 扩大土地面积（开拓）
3. 建造住房（民居）
4. 科技提升承载力
5. 管理资源平衡

优势：
✅ 策略深度提升
✅ 资源管理重要
✅ 多种发展路线
✅ 更加真实
```

## 🔬 数学公式可视化

### 逻辑斯蒂函数

```
P(t) = K / (1 + ((K - P₀) / P₀) × e^(-rt))

其中：
- P(t): t时刻的人口
- K: 承载力
- P₀: 初始人口
- r: 增长率
- e: 自然常数

图形：
P(t)
  K │         ╱────────
    │       ╱
    │     ╱
    │   ╱
    │ ╱
 P₀ │╱
    └────────────────> t
    
特点：
- 初期：接近指数增长
- 中期：最快增长（拐点在 K/2）
- 后期：渐近线接近 K
```

## 📉 超载惩罚机制

```
惩罚因子
 1.0 │────╲
     │     ╲
 0.8 │      ╲
     │       ╲
 0.6 │        ╲
     │         ╲
 0.4 │          ╲
     │           ╲
 0.2 │            ╲___
     │
 0.0 └────────────────────> 人口/承载力比
     1.0  1.1  1.2  1.3  1.5

公式：exp(-(P/K - 1) × 2)

效果：
- 100% 承载力：无惩罚
- 110% 承载力：0.82x 增长
- 120% 承载力：0.67x 增长
- 130% 承载力：0.55x 增长
- 150% 承载力：0.37x 增长
```

---

**结论**：逻辑斯蒂模型已在 AI 链路提供更科学、更平衡的增长行为；玩家链路仍待主循环接入后再完成全量结论验证。
