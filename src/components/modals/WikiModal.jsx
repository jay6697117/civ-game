// å†…ç½®ç™¾ç§‘æ¨¡æ€æ¡†ç»„ä»¶
// æä¾›åˆ†ç±»å¯¼èˆªã€æœç´¢å’Œè¯¦æƒ…å±•ç¤º
// v2.1: è¡¥å……ç¨æ”¶ã€äººå£å¢é•¿ã€è½¬èŒç­‰æ ¸å¿ƒæœºåˆ¶è¯´æ˜

import React, { useEffect, useMemo, useState } from 'react';
import { Icon } from '../common/UIComponents';
import {
  BUILDINGS,
  TECHS,
  DECREES,
  RESOURCES,
  UNIT_TYPES,
  STRATA,
  EPOCHS,
} from '../../config';

// --- æ ¸å¿ƒæœºåˆ¶æ”»ç•¥æ–‡æ¡ˆæ•°æ® ---
const MECHANICS_GUIDES = [
  {
    id: 'mech_quickstart',
    name: 'æ–°æ‰‹å…¥é—¨æŒ‡å—',
    icon: 'Zap',
    summary: 'å¿«é€Ÿä¸Šæ‰‹æ¸¸æˆçš„åŸºç¡€æ“ä½œå’Œå‘å±•è·¯çº¿',
    content: [
      { type: 'h4', text: 'ğŸ® æ¸¸æˆç›®æ ‡' },
      { type: 'p', text: 'å‘å±•ä½ çš„æ–‡æ˜ï¼Œä»çŸ³å™¨æ—¶ä»£èµ°å‘ç°ä»£ï¼Œé€šè¿‡ç»æµã€å†›äº‹ã€æ–‡åŒ–ç­‰å¤šç§æ–¹å¼å®ç°ç¹è£ã€‚' },
      { type: 'h4', text: 'ğŸ“‹ åŸºç¡€æ“ä½œ' },
      { type: 'list', items: [
        'å»ºè®¾æ ‡ç­¾ï¼šå»ºé€ å„ç±»å»ºç­‘ï¼Œç”Ÿäº§èµ„æºå’Œæä¾›å°±ä¸šå²—ä½',
        'ç§‘æŠ€æ ‡ç­¾ï¼šç ”ç©¶ç§‘æŠ€è§£é”æ–°å»ºç­‘å’Œèƒ½åŠ›ï¼Œå‡çº§æ—¶ä»£',
        'æ”¿ä»¤æ ‡ç­¾ï¼šé¢å¸ƒæ”¿ä»¤è·å¾—å„ç§åŠ æˆï¼Œè°ƒæ•´ç¨ç‡',
        'å†›äº‹æ ‡ç­¾ï¼šæ‹›å‹Ÿå†›é˜Ÿï¼ŒæŸ¥çœ‹éƒ¨é˜ŸçŠ¶æ€',
        'å¤–äº¤æ ‡ç­¾ï¼šä¸å…¶ä»–å›½å®¶è´¸æ˜“ã€ç»“ç›Ÿæˆ–å¼€æˆ˜',
        'é˜¶å±‚æ ‡ç­¾ï¼šæŸ¥çœ‹å„é˜¶å±‚çŠ¶æ€ï¼Œæ»¡è¶³ä»–ä»¬çš„éœ€æ±‚'
      ]},
      { type: 'h4', text: 'ğŸš€ å‘å±•è·¯çº¿å»ºè®®' },
      { type: 'p', text: 'çŸ³å™¨æ—¶ä»£ï¼ˆå‰10åˆ†é’Ÿï¼‰ï¼š' },
      { type: 'list', items: [
        '1. å»ºé€ å†œç”°å’Œä¼æœ¨åœºï¼Œç¡®ä¿ç²®é£Ÿå’Œæœ¨æç¨³å®šä¾›åº”',
        '2. å»ºé€ ç®€é™‹å°å±‹æå‡äººå£ä¸Šé™ï¼Œè®©äººå£è‡ªç„¶å¢é•¿',
        '3. å»ºé€ å›¾ä¹¦é¦†ç§¯ç´¯ç§‘ç ”ç‚¹æ•°',
        '4. ç ”ç©¶"åŸºç¡€å·¥å…·"å’Œ"è½¦è½®"ç§‘æŠ€',
        '5. å½“ç§‘ç ”â‰¥500ä¸”äººå£â‰¥20æ—¶ï¼Œå‡†å¤‡å‡çº§åˆ°é’é“œæ—¶ä»£'
      ]},
      { type: 'p', text: 'é’é“œæ—¶ä»£ï¼ˆ10-30åˆ†é’Ÿï¼‰ï¼š' },
      { type: 'list', items: [
        '1. å»ºé€ åº„å›­å’Œæœ¨å±‹ï¼Œæå‡èµ„æºäº§å‡ºå’Œäººå£ä¸Šé™',
        '2. å»ºé€ å¸‚åœºå¼€å§‹è´¸æ˜“ï¼Œç§¯ç´¯é“¶å¸',
        '3. å»ºé€ å…µè¥æ‹›å‹ŸåŸºç¡€å†›é˜Ÿä¿æŠ¤å›½å®¶',
        '4. ç ”ç©¶"å°å»ºåˆ¶åº¦"è§£é”æ›´å¤šå»ºç­‘',
        '5. æ³¨æ„æ»¡è¶³å„é˜¶å±‚çš„ç‰©èµ„éœ€æ±‚ï¼Œä¿æŒç¨³å®šåº¦'
      ]},
      { type: 'h4', text: 'ğŸ’¡ æ–°æ‰‹æç¤º' },
      { type: 'list', items: [
        'èµ„æºä¸è¶³æ—¶å¯ä»¥è°ƒæ•´æ¸¸æˆé€Ÿåº¦ï¼ˆå³ä¸Šè§’1x/2x/5xï¼‰',
        'ç²®é£Ÿæ˜¯æœ€é‡è¦çš„èµ„æºï¼Œäººå£å¢é•¿å’Œå†›é˜Ÿç»´æŠ¤éƒ½éœ€è¦å®ƒ',
        'ä¸è¦è¿‡åº¦å¾ç¨ï¼Œä¼šå¯¼è‡´é˜¶å±‚ä¸æ»¡å’Œäººå£æµå¤±',
        'å»ºç­‘å¯ä»¥å‡ºå”®å›æ”¶éƒ¨åˆ†èµ„æºï¼Œä½†ä¼šå¤±å»å²—ä½',
        'å®šæœŸæŸ¥çœ‹æ—¥å¿—äº†è§£æ¸¸æˆäº‹ä»¶å’Œæç¤º',
        'å–„ç”¨å¤–äº¤è´¸æ˜“ï¼Œä½ä¹°é«˜å–èµšå–å·®ä»·'
      ]}
    ]
  },
  {
    id: 'mech_economy',
    name: 'å¸‚åœºä¸ç¨æ”¶',
    icon: 'Coins',
    summary: 'ä»·æ ¼æ³¢åŠ¨ã€è¿›å‡ºå£è´¸æ˜“ä¸ç¨æ”¶è´¢æ”¿',
    content: [
      { type: 'h4', text: '1. å¸‚åœºä»·æ ¼æœºåˆ¶' },
      { type: 'p', text: 'èµ„æºä»·æ ¼ç”±ä¾›éœ€å…³ç³»å®æ—¶å†³å®šã€‚' },
      { type: 'list', items: [
        'ä¾›ç»™ (Supply)ï¼šå›½å†…ç”Ÿäº§ + è¿›å£',
        'éœ€æ±‚ (Demand)ï¼šå›½å†…æ¶ˆè€— + å‡ºå£ + äººå£ç»´æŠ¤',
        'å½“éœ€æ±‚ > ä¾›ç»™æ—¶ï¼Œä»·æ ¼ä¸Šæ¶¨ï¼›åä¹‹ä»·æ ¼ä¸‹è·Œã€‚',
        'é“¶å¸æ˜¯å”¯ä¸€çš„é€šç”¨è´§å¸ï¼Œä¸å‚ä¸ä»·æ ¼æ³¢åŠ¨ã€‚'
      ]},
      { type: 'h4', text: '2. è´¢æ”¿ç¨æ”¶ä½“ç³»' },
      { type: 'p', text: 'å›½å®¶æ”¶å…¥ä¸»è¦æ¥æºäºä¸‰ç§ç¨æ”¶ï¼ˆå¯åœ¨æ”¿ä»¤-ç¨æ”¶é¢æ¿è°ƒæ•´ï¼‰ï¼š' },
      { type: 'list', items: [
        'äººå¤´ç¨ (Head Tax)ï¼šæŒ‰äººå£æ¯æ—¥å¾æ”¶ã€‚é’ˆå¯¹ä¸åŒé˜¶å±‚æœ‰ä¸åŒçš„åŸºå‡†ç¨ç‡ã€‚è¿™æ˜¯æœ€ç¨³å®šçš„æ”¶å…¥æ¥æºï¼Œä½†è¿‡é«˜ä¼šé™ä½é˜¶å±‚å¥½æ„Ÿåº¦ã€‚',
        'èµ„æºç¨ (Resource Tax)ï¼šå¯¹å¸‚åœºäº¤æ˜“å¾æ”¶ã€‚æ¯å½“èµ„æºåœ¨å¸‚åœºä¸Šä¹°å–ï¼ˆæ— è®ºæ˜¯è‡ªåŠ¨ç”Ÿäº§æ¶ˆè€—è¿˜æ˜¯è¿›å‡ºå£ï¼‰æ—¶è§¦å‘ã€‚å·¥ä¸šå‘è¾¾æ—¶è¿™ç¬”æ”¶å…¥å¾ˆå¯è§‚ã€‚',
        'è¥ä¸šç¨ (Business Tax)ï¼šå¯¹å»ºç­‘æ¯æ¬¡äº§å‡ºæ”¶å–å›ºå®šé“¶å¸å€¼ã€‚æ¯ç§å»ºç­‘å¯è®¾ç½®ä¸åŒç¨ç‡ï¼Œç”±å»ºç­‘ä¸šä¸»æ”¯ä»˜ã€‚ä¸šä¸»è´¢äº§ä¸è¶³æ—¶æ”¾å¼ƒæ”¶ç¨ã€‚',
        'è´Ÿç¨ç‡ (è¡¥è´´)ï¼šä½ å¯ä»¥å°†ç¨ç‡è®¾ä¸ºè´Ÿæ•°ï¼Œå˜æˆè¡¥è´´ã€‚äººå¤´ç¨è¡¥è´´æå‡é˜¶å±‚å¥½æ„Ÿåº¦å’Œè´¢å¯Œï¼Œè¥ä¸šç¨è¡¥è´´é™ä½ä¼ä¸šç”Ÿäº§æˆæœ¬ã€‚'
      ]},
      { type: 'h4', text: '2.1 è¥ä¸šç¨è¯¦è§£' },
      { type: 'p', text: 'è¥ä¸šç¨æ˜¯å¯¹å»ºç­‘äº§å‡ºå¾æ”¶çš„å›ºå®šç¨é¢ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š' },
      { type: 'list', items: [
        'å¾æ”¶æ—¶æœºï¼šæ¯å½“å»ºç­‘äº§å‡ºèµ„æºæ—¶ï¼Œè‡ªåŠ¨ä»ä¸šä¸»è´¢äº§ä¸­æ‰£é™¤ç¨æ¬¾',
        'å›ºå®šç¨é¢ï¼šæŒ‰"ç¨ç‡ Ã— å»ºç­‘æ•°é‡ Ã— äº§å‡ºå€ç‡"è®¡ç®—ï¼Œè€ŒéæŒ‰æ¯”ä¾‹æ”¶å–',
        'ä¸šä¸»æ”¯ä»˜ï¼šç”±å»ºç­‘çš„æ‰€æœ‰è€…ï¼ˆå¦‚å•†äººã€åœ°ä¸»ã€èµ„æœ¬å®¶ç­‰ï¼‰æ”¯ä»˜ï¼Œç®—å…¥ç”Ÿäº§æˆæœ¬',
        'è´¢äº§æ£€æŸ¥ï¼šå¦‚æœä¸šä¸»è´¢äº§ä¸è¶³æ”¯ä»˜ç¨æ¬¾ï¼Œæ”¿åºœä¼šæ”¾å¼ƒå¾æ”¶ï¼ˆä¸ä¼šå¯¼è‡´è´Ÿå€ºï¼‰',
        'è¡¥è´´æœºåˆ¶ï¼šè®¾ç½®è´Ÿç¨ç‡æ—¶ï¼Œæ”¿åºœä¼šå‘ä¸šä¸»æ”¯ä»˜è¡¥è´´ï¼Œé™ä½ä¼ä¸šæˆæœ¬ï¼Œä½†éœ€è¦å›½åº“æœ‰è¶³å¤Ÿèµ„é‡‘',
        'çµæ´»è°ƒæ§ï¼šå¯ä»¥å¯¹ä¸åŒå»ºç­‘è®¾ç½®ä¸åŒç¨ç‡ï¼Œå®ç°ç²¾å‡†çš„äº§ä¸šæ”¿ç­–'
      ]},
      { type: 'h4', text: '2.2 è¥ä¸šç¨ç­–ç•¥å»ºè®®' },
      { type: 'list', items: [
        'å¯¹ç›ˆåˆ©èƒ½åŠ›å¼ºçš„å»ºç­‘ï¼ˆå¦‚å¸‚åœºã€è´¸æ˜“æ¸¯ï¼‰é€‚å½“æ”¶ç¨ï¼Œå¢åŠ è´¢æ”¿æ”¶å…¥',
        'å¯¹åŸºç¡€ç”Ÿäº§å»ºç­‘ï¼ˆå¦‚å†œç”°ã€ä¼æœ¨åœºï¼‰è€ƒè™‘è¡¥è´´ï¼Œé™ä½åŸºç¡€ç‰©èµ„æˆæœ¬',
        'å¯¹æ–°å…´äº§ä¸šç»™äºˆè¡¥è´´æ‰¶æŒï¼ŒåŠ é€Ÿäº§ä¸šå‘å±•',
        'æ³¨æ„å›½åº“ä½™é¢ï¼Œé¿å…è¡¥è´´è¿‡å¤šå¯¼è‡´è´¢æ”¿å›°éš¾',
        'è§‚å¯Ÿä¸šä¸»è´¢å¯ŒçŠ¶å†µï¼Œé¿å…è¿‡åº¦å¾ç¨å¯¼è‡´ä¼ä¸šç ´äº§'
      ]},
      { type: 'h4', text: '3. å›½é™…è´¸æ˜“' },
      { type: 'p', text: 'åˆ©ç”¨"å¤–äº¤"æ ‡ç­¾é¡µä¸­çš„è´¸æ˜“åŠŸèƒ½è¿›è¡Œå¥—åˆ©ï¼š' },
      { type: 'list', items: [
        'å‡ºå£ï¼šå°†ç›ˆä½™èµ„æºå–ç»™é«˜ä»·æ”¶è´­çš„å›½å®¶ã€‚',
        'è¿›å£ï¼šä»ä½ä»·å‡ºå”®çš„å›½å®¶ä¹°å…¥èµ„æºï¼Œç”¨äºå›½å†…ç”Ÿäº§æˆ–èµšå–å·®ä»·ã€‚',
        'è´¸æ˜“æŠ€å·§ï¼šè§‚å¯Ÿå„å›½çš„æ”¶è´­ä»·å’Œå‡ºå”®ä»·ï¼Œå¯»æ‰¾å¥—åˆ©æœºä¼šã€‚'
      ]},
      { type: 'h4', text: '4. å•†äººç³»ç»Ÿ' },
      { type: 'p', text: 'å•†äººæ˜¯ç‰¹æ®Šçš„é˜¶å±‚ï¼Œä»–ä»¬ä¼šè‡ªåŠ¨è¿›è¡Œè´¸æ˜“ï¼š' },
      { type: 'list', items: [
        'å•†äººä¼šä¹°å…¥ä½ä»·èµ„æºï¼Œç­‰å¾…3ä¸ªæ¸¸æˆæ—¥åé«˜ä»·å–å‡º',
        'æ¯ä¸ªå•†äººæ¯3å¤©å®Œæˆä¸€æ¬¡äº¤æ˜“ï¼Œåˆ©æ¶¦ç‡çº¦20%',
        'å»ºé€ è´¸æ˜“ç«™æä¾›å•†äººå²—ä½',
        'æ»¡è¶³å•†äººçš„å¥¢ä¾ˆå“éœ€æ±‚å¯ä»¥æå‡è´¸æ˜“æ•ˆç‡'
      ]}
    ]
  },
  {
    id: 'mech_price_calculation',
    name: 'å¸‚åœºä»·æ ¼è®¡ç®—è¯¦è§£',
    icon: 'TrendingUp',
    summary: 'æ·±å…¥ç†è§£ä»·æ ¼å½¢æˆæœºåˆ¶ä¸å·®å¼‚åŒ–é…ç½®',
    content: [
      { type: 'h4', text: 'ğŸ“Š ä»·æ ¼è®¡ç®—æ¦‚è¿°' },
      { type: 'p', text: 'å¸‚åœºä»·æ ¼æ˜¯ä¸€ä¸ªå¤šå±‚æ¬¡ã€åŠ¨æ€å¹³è¡¡çš„ç³»ç»Ÿï¼Œç”±æˆæœ¬åŸºç¡€ã€ä¾›éœ€è°ƒèŠ‚ã€åº“å­˜è°ƒèŠ‚å’Œå¹³æ»‘å¤„ç†å››ä¸ªç¯èŠ‚ç»„æˆã€‚æ¯ä¸ªèµ„æºå’Œå»ºç­‘éƒ½å¯ä»¥æœ‰ç‹¬ç‰¹çš„ç»æµå‚æ•°é…ç½®ã€‚' },
      
      { type: 'h4', text: 'ğŸ¯ ç¬¬ä¸€æ­¥ï¼šæˆæœ¬é”šå®šä»·æ ¼' },
      { type: 'p', text: 'è®¡ç®—èµ„æºçš„ç”Ÿäº§æˆæœ¬ä½œä¸ºä»·æ ¼åŸºå‡†ï¼š' },
      { type: 'list', items: [
        'æˆæœ¬é”šå®šä»·æ ¼ = (åŸæ–™æˆæœ¬ + äººå·¥æˆæœ¬) / äº§å‡ºæ•°é‡',
        'åŸæ–™æˆæœ¬ = Î£(æŠ•å…¥èµ„æºæ•°é‡ Ã— å½“å‰å¸‚åœºä»·æ ¼)',
        'äººå·¥æˆæœ¬ = Î£(å²—ä½æ•°é‡ Ã— å·¥èµ„)',
        'å·¥èµ„åº•çº¿ = max(åŸºç¡€å·¥èµ„ Ã— 0.8, ç”Ÿæ´»æˆæœ¬ Ã— 1.05)',
        'ç”Ÿæ´»æˆæœ¬å—å»ºç­‘çš„ marketConfig.wage æƒé‡å½±å“'
      ]},
      { type: 'p', text: 'ç¤ºä¾‹ï¼ˆå†œç”°ç”Ÿäº§ç²®é£Ÿï¼‰ï¼šæŠ•å…¥æ— åŸæ–™ï¼Œ2ä¸ªå†œæ°‘Ã—å·¥èµ„10=20ï¼Œäº§å‡º20å•ä½ï¼Œæˆæœ¬ä»·=20/20=1.0' },
      
      { type: 'h4', text: 'ğŸ¯ ç¬¬äºŒæ­¥ï¼šä¾›éœ€è°ƒèŠ‚' },
      { type: 'p', text: 'æ ¹æ®ä¾›éœ€æ¯”ä¾‹åŠ¨æ€è°ƒæ•´ä»·æ ¼ï¼š' },
      { type: 'list', items: [
        'ä¾›éœ€æ¯”ä¾‹ = (å®é™…éœ€æ±‚ + è™šæ‹Ÿéœ€æ±‚) / ä¾›åº”é‡',
        'è™šæ‹Ÿéœ€æ±‚ = äººå£ Ã— virtualDemandPerPopï¼ˆæ¨¡æ‹Ÿå¸‚åœºåŸºç¡€éœ€æ±‚ï¼‰',
        'pressure = tanh(ln(ä¾›éœ€æ¯”ä¾‹) Ã— 0.9) Ã— supplyDemandWeight',
        'ä¾›ä¸åº”æ±‚æ—¶ï¼šä»·æ ¼ä¹˜æ•° = 1 + pressure Ã— (3.5 - 1)',
        'ä¾›è¿‡äºæ±‚æ—¶ï¼šä»·æ ¼ä¹˜æ•° = 1 + pressure Ã— (1 - 0.7)'
      ]},
      { type: 'p', text: 'supplyDemandWeight æ˜¯å…³é”®å‚æ•°ï¼Œå¯é€šè¿‡ marketConfig å·®å¼‚åŒ–é…ç½®ï¼š' },
      { type: 'list', items: [
        'ç²®é£Ÿï¼š0.6ï¼ˆä»·æ ¼ç¨³å®šï¼ŒåŸºç¡€å¿…éœ€å“ï¼‰',
        'å®¶å…·ï¼š1.5ï¼ˆä»·æ ¼æ³¢åŠ¨å¤§ï¼Œå¥¢ä¾ˆå“ï¼‰',
        'é»˜è®¤ï¼š1.0ï¼ˆæ ‡å‡†æ³¢åŠ¨ï¼‰'
      ]},
      { type: 'p', text: 'ç¤ºä¾‹ï¼šä¾›éœ€æ¯”ä¾‹=2.0æ—¶ï¼Œpressureâ‰ˆ0.55ï¼Œä»·æ ¼ä¹˜æ•°â‰ˆ2.375ï¼ˆä»·æ ¼ç¿»å€ä»¥ä¸Šï¼‰' },
      
      { type: 'h4', text: 'ğŸ¯ ç¬¬ä¸‰æ­¥ï¼šåº“å­˜è°ƒèŠ‚' },
      { type: 'p', text: 'æ ¹æ®åº“å­˜æ°´å¹³è¿›ä¸€æ­¥è°ƒæ•´ä»·æ ¼ï¼š' },
      { type: 'list', items: [
        'åº“å­˜æ¯”ä¾‹ = å½“å‰åº“å­˜ / æœŸæœ›åº“å­˜',
        'æœŸæœ›åº“å­˜ = è°ƒæ•´åéœ€æ±‚ Ã— inventoryTargetDays',
        'åº“å­˜å‹åŠ› = max(0.3, 1 + (1 - åº“å­˜æ¯”ä¾‹) Ã— inventoryPriceImpact)',
        'åº“å­˜ä¸è¶³æ—¶ä»·æ ¼ä¸Šæ¶¨ï¼Œåº“å­˜å……è¶³æ—¶ä»·æ ¼ä¸‹è·Œ'
      ]},
      { type: 'p', text: 'inventoryTargetDays å’Œ inventoryPriceImpact å¯å·®å¼‚åŒ–é…ç½®ï¼š' },
      { type: 'list', items: [
        'ç²®é£Ÿï¼šç›®æ ‡30å¤©ï¼Œå½±å“0.15ï¼ˆæˆ˜ç•¥å‚¨å¤‡ï¼Œä»·æ ¼ç¨³å®šï¼‰',
        'å®¶å…·ï¼šç›®æ ‡10å¤©ï¼Œå½±å“0.4ï¼ˆéå¿…éœ€å“ï¼Œä»·æ ¼æ•æ„Ÿï¼‰',
        'é»˜è®¤ï¼šç›®æ ‡20å¤©ï¼Œå½±å“0.25ï¼ˆæ ‡å‡†é…ç½®ï¼‰'
      ]},
      { type: 'p', text: 'ç¤ºä¾‹ï¼šåº“å­˜100ï¼ŒæœŸæœ›200ï¼Œåº“å­˜æ¯”ä¾‹0.5ï¼Œåº“å­˜å‹åŠ›=1+(1-0.5)Ã—0.25=1.125' },
      
      { type: 'h4', text: 'ğŸ¯ ç¬¬å››æ­¥ï¼šä»·æ ¼åˆæˆä¸å¹³æ»‘' },
      { type: 'list', items: [
        'ç›®æ ‡ä»·æ ¼ = æˆæœ¬é”šå®šä»·æ ¼ Ã— ä»·æ ¼ä¹˜æ•° Ã— åº“å­˜å‹åŠ›',
        'åº”ç”¨æˆæœ¬åº•çº¿ï¼šmax(ç›®æ ‡ä»·æ ¼, æˆæœ¬é”šå®šä»·æ ¼ Ã— 0.6)',
        'åº”ç”¨ç»å¯¹åº•çº¿ï¼šmax(ç›®æ ‡ä»·æ ¼, PRICE_FLOOR)',
        'å¹³æ»‘å¤„ç†ï¼šæœ€ç»ˆä»·æ ¼ = ä¸Šä¸€è½®ä»·æ ¼ + (ç›®æ ‡ä»·æ ¼ - ä¸Šä¸€è½®ä»·æ ¼) Ã— 0.1',
        'å¹³æ»‘å¤„ç†é¿å…ä»·æ ¼å‰§çƒˆæ³¢åŠ¨ï¼Œæ¨¡æ‹ŸçœŸå®å¸‚åœºæƒ¯æ€§'
      ]},
      
      { type: 'h4', text: 'ğŸ­ å»ºç­‘é…ç½®çš„å½±å“' },
      { type: 'p', text: 'å»ºç­‘çš„ marketConfig å½±å“å…¶ç”Ÿäº§èµ„æºçš„æˆæœ¬è®¡ç®—ï¼š' },
      { type: 'list', items: [
        'price.livingCostWeightï¼šä»·æ ¼å—ç”Ÿæ´»æˆæœ¬å½±å“çš„æƒé‡',
        'price.taxCostWeightï¼šä»·æ ¼å—ç¨æ”¶å½±å“çš„æƒé‡',
        'wage.livingCostWeightï¼šå·¥èµ„å—ç”Ÿæ´»æˆæœ¬å½±å“çš„æƒé‡',
        'wage.taxCostWeightï¼šå·¥èµ„å—ç¨æ”¶å½±å“çš„æƒé‡'
      ]},
      { type: 'p', text: 'å†œç”°ç¤ºä¾‹ï¼ˆåŸºç¡€ç”Ÿäº§ï¼‰ï¼š' },
      { type: 'list', items: [
        'price: {livingCostWeight: 0.15, taxCostWeight: 0.2}',
        'wage: {livingCostWeight: 0.08, taxCostWeight: 0.05}',
        'æ•ˆæœï¼šå†œæ°‘å·¥èµ„å’Œç²®é£Ÿä»·æ ¼ç›¸å¯¹ç¨³å®šï¼Œä¸æ˜“å—å¸‚åœºæ³¢åŠ¨å½±å“'
      ]},
      { type: 'p', text: 'å®¶å…·å·¥åŠç¤ºä¾‹ï¼ˆå¥¢ä¾ˆå“å·¥è‰ºï¼‰ï¼š' },
      { type: 'list', items: [
        'price: {livingCostWeight: 0.3, taxCostWeight: 0.4}',
        'wage: {livingCostWeight: 0.15, taxCostWeight: 0.15}',
        'æ•ˆæœï¼šå·¥åŒ å·¥èµ„å’Œå®¶å…·ä»·æ ¼éšå¸‚åœºæ³¢åŠ¨ï¼Œåæ˜ å¥¢ä¾ˆå“ç‰¹æ€§'
      ]},
      
      { type: 'h4', text: 'ğŸ“ˆ å®Œæ•´è®¡ç®—æµç¨‹' },
      { type: 'list', items: [
        '1. æŸ¥æ‰¾ç”Ÿäº§å»ºç­‘ï¼Œè·å–å…¶ marketConfig é…ç½®',
        '2. è®¡ç®—æˆæœ¬é”šå®šä»·æ ¼ï¼ˆä½¿ç”¨å»ºç­‘çš„ wage æƒé‡ï¼‰',
        '3. è®¡ç®—ä¾›éœ€æ¯”ä¾‹ï¼Œåº”ç”¨ supplyDemandWeight å¾—åˆ°ä»·æ ¼ä¹˜æ•°',
        '4. è®¡ç®—åº“å­˜æ¯”ä¾‹ï¼Œåº”ç”¨ inventoryPriceImpact å¾—åˆ°åº“å­˜å‹åŠ›',
        '5. åˆæˆç›®æ ‡ä»·æ ¼ = æˆæœ¬ Ã— ä¹˜æ•° Ã— å‹åŠ›',
        '6. åº”ç”¨æˆæœ¬åº•çº¿ï¼ˆ60%ï¼‰å’Œç»å¯¹åº•çº¿',
        '7. å¹³æ»‘å¤„ç†ï¼ˆ10%æƒé‡ï¼‰å¾—åˆ°æœ€ç»ˆä»·æ ¼'
      ]},
      
      { type: 'h4', text: 'ğŸ’¡ å·®å¼‚åŒ–é…ç½®çš„æ„ä¹‰' },
      { type: 'list', items: [
        'åŸºç¡€å¿…éœ€å“ï¼ˆç²®é£Ÿï¼‰ï¼šä½æ³¢åŠ¨æƒé‡ + é«˜åº“å­˜ç›®æ ‡ = ä»·æ ¼ç¨³å®š',
        'å¥¢ä¾ˆå“ï¼ˆå®¶å…·ï¼‰ï¼šé«˜æ³¢åŠ¨æƒé‡ + ä½åº“å­˜ç›®æ ‡ = ä»·æ ¼æ•æ„Ÿ',
        'å·¥ä¸šå“ï¼šä¸­ç­‰é…ç½®ï¼Œå¹³è¡¡ç¨³å®šæ€§å’Œå¸‚åœºååº”',
        'è™šæ‹Ÿèµ„æºï¼ˆç§‘ç ”ã€æ–‡åŒ–ï¼‰ï¼šç‰¹æ®Šé…ç½®ï¼Œä¸å—å¸‚åœºå½±å“',
        'ç­–åˆ’å¯ä»¥ä¸ºæ¯ä¸ªèµ„æºå’Œå»ºç­‘å®šåˆ¶ç»æµç‰¹æ€§'
      ]},
      
      { type: 'h4', text: 'ğŸ® ç©å®¶ç­–ç•¥å»ºè®®' },
      { type: 'list', items: [
        'è§‚å¯Ÿä»·æ ¼è¶‹åŠ¿ï¼šä¾›éœ€å¤±è¡¡æ—¶åŠæ—¶è°ƒæ•´ç”Ÿäº§',
        'åº“å­˜ç®¡ç†ï¼šç»´æŒåˆç†åº“å­˜é¿å…ä»·æ ¼å‰§çƒˆæ³¢åŠ¨',
        'å¥—åˆ©æœºä¼šï¼šåˆ©ç”¨ä¸åŒèµ„æºçš„ä»·æ ¼æ³¢åŠ¨ç‰¹æ€§è¿›è¡Œè´¸æ˜“',
        'äº§ä¸šé“¾ä¼˜åŒ–ï¼šå»ºç«‹å®Œæ•´ç”Ÿäº§é“¾æå‡èµ„æºä»·å€¼',
        'å»ºç­‘é€‰æ‹©ï¼šäº†è§£ä¸åŒå»ºç­‘çš„ç»æµç‰¹æ€§ï¼Œåˆç†å¸ƒå±€'
      ]}
    ]
  },
  {
    id: 'mech_strata',
    name: 'äººå£ä¸é˜¶å±‚æµåŠ¨',
    icon: 'Users',
    summary: 'äººå£å¢é•¿ã€èŒä¸šè½¬æ¢ä¸æ»¡æ„åº¦å½±å“',
    content: [
      { type: 'h4', text: '1. äººå£å¢é•¿æœºåˆ¶' },
      { type: 'p', text: 'äººå£ä¸ä¼šå‡­ç©ºæš´æ¶¨ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰ä¼šè‡ªç„¶å¢é•¿ï¼š' },
      { type: 'list', items: [
        'ä½æˆ¿å……è¶³ï¼šå½“å‰äººå£ < äººå£ä¸Šé™ (MaxPop)ã€‚å»ºé€ æˆ¿å±‹å¯æå‡ä¸Šé™ã€‚',
        'ç²®é£Ÿç›ˆä½™ï¼šå½“å‰ç²®é£Ÿåº“å­˜ > äººå£æ•° Ã— 1.5ã€‚',
        'ç¤¾ä¼šç¨³å®šï¼šç¨³å®šåº¦è¶Šé«˜ï¼Œäººå£å¢é•¿æ¦‚ç‡è¶Šå¤§ã€‚',
        'åä¹‹ï¼Œå¦‚æœç²®é£Ÿè€—å°½ (0)ï¼Œäººå£ä¼šå‘ç”Ÿé¥¥è’å¹¶å‡å°‘ã€‚'
      ]},
      { type: 'h4', text: '2. èŒä¸šæµåŠ¨ (è½¬èŒ) æœºåˆ¶' },
      { type: 'p', text: 'ä½ çš„äººæ°‘æ˜¯"è¶‹åˆ©"çš„ï¼Œä»–ä»¬ä¼šè‡ªåŠ¨å¯»æ‰¾æ›´æœ‰å‰é€”çš„å·¥ä½œï¼š' },
      { type: 'list', items: [
        'è‡ªåŠ¨å¡«è¡¥ï¼šå½“æœ‰ç©ºç¼ºå²—ä½æ—¶ï¼Œå¤±ä¸šäººå£ä¼šè‡ªåŠ¨å¡«è¡¥ã€‚',
        'è·³æ§½é€»è¾‘ï¼šå¦‚æœæŸä¸ªèŒä¸šçš„"æ½œåœ¨æ”¶å…¥"ï¼ˆå·¥èµ„+èµ„æºå‡ºå”®æ”¶ç›Šï¼‰è¿œé«˜äºå½“å‰èŒä¸šï¼Œä¸”ç›®æ ‡èŒä¸šæœ‰ç©ºç¼ºï¼Œäººå£ä¼šè¾èŒå¹¶è½¬èŒã€‚',
        'è´¢å¯Œæºå¸¦ï¼šè½¬èŒæ—¶ï¼Œä»–ä»¬ä¼šå¸¦èµ°è‡ªå·±ç§¯ç´¯çš„è´¢å¯Œã€‚',
        'è½¬èŒå†·å´ï¼šäººå£ä¸ä¼šé¢‘ç¹è·³æ§½ï¼Œæœ‰ä¸€å®šçš„ç¨³å®šæœŸã€‚'
      ]},
      { type: 'h4', text: '3. é˜¶å±‚æ»¡æ„åº¦' },
      { type: 'p', text: 'é˜¶å±‚å¥½æ„Ÿåº¦å†³å®šäº†Buff/Debuffï¼š' },
      { type: 'list', items: [
        'ç‰©èµ„éœ€æ±‚ï¼šè¿™æ˜¯æœ€å…³é”®çš„å› ç´ ã€‚æ»¡è¶³æ—¥å¸¸éœ€æ±‚ï¼ˆå¦‚å•†äººçš„é¦™æ–™ã€å·¥äººçš„å·¥å…·ï¼‰èƒ½å¤§å¹…æå‡å¥½æ„Ÿã€‚',
        'ç¨ç‡å½±å“ï¼šä½ç¨ç‡æå‡å¥½æ„Ÿï¼Œé«˜ç¨ç‡é™ä½å¥½æ„Ÿã€‚',
        'å¦‚æœå¥½æ„Ÿåº¦è¿‡ä½ä¸”è¯¥é˜¶å±‚å½±å“åŠ›å¤§ï¼Œå¯èƒ½å¯¼è‡´äººå£å¤–æµï¼ˆå¸¦ç€è´¢å¯Œç¦»å¼€ï¼‰ç”šè‡³å›ä¹±ã€‚',
        'é«˜å¥½æ„Ÿåº¦ä¼šæä¾›å¼ºå¤§çš„åŠ æˆï¼šå†œæ°‘æå‡é‡‡é›†æ•ˆç‡ã€å·¥åŒ æå‡ç”Ÿäº§æ•ˆç‡ã€å­¦è€…æå‡ç§‘ç ”ç­‰ã€‚'
      ]},
      { type: 'h4', text: '4. é˜¶å±‚å½±å“åŠ›' },
      { type: 'p', text: 'æ¯ä¸ªé˜¶å±‚çš„å½±å“åŠ›ç”±äººå£æ•°é‡å’Œè´¢å¯Œå†³å®šï¼š' },
      { type: 'list', items: [
        'å½±å“åŠ›é«˜çš„é˜¶å±‚å¯¹å›½å®¶æ”¿ç­–æœ‰æ›´å¤§å‘è¨€æƒ',
        'è´µæ—å’Œèµ„æœ¬å®¶çš„å½±å“åŠ›é€šå¸¸è¾ƒé«˜',
        'å¹³è¡¡å„é˜¶å±‚å½±å“åŠ›æ˜¯ç»´æŒç¨³å®šçš„å…³é”®'
      ]}
    ]
  },
  {
    id: 'mech_admin',
    name: 'è¡Œæ”¿ä¸ç®¡ç†',
    icon: 'Scale',
    summary: 'è¡Œæ”¿å®¹é‡ã€å‹åŠ›ä¸æ•ˆç‡çš„å…³ç³»',
    content: [
      { type: 'h4', text: '1. è¡Œæ”¿å®¹é‡ (Capacity)' },
      { type: 'p', text: 'ä»£è¡¨æ”¿åºœæ²»ç†å›½å®¶çš„èƒ½åŠ›ä¸Šé™ã€‚ä¸»è¦æ¥æºï¼šå¸‚æ”¿å…å»ºç­‘ã€ç§‘æŠ€ã€ç‰¹å®šé˜¶å±‚ï¼ˆå¦‚å®˜å‘˜ï¼‰çš„åŠ æˆã€‚' },
      { type: 'h4', text: '2. è¡Œæ”¿å‹åŠ› (Strain)' },
      { type: 'p', text: 'ä»£è¡¨å›½å®¶å½“å‰çš„è¿è½¬è´Ÿæ‹…ã€‚æ¥æºåŒ…æ‹¬ï¼š' },
      { type: 'list', items: [
        'äººå£è§„æ¨¡ï¼šäººå£è¶Šå¤šï¼Œç®¡ç†è¶Šéš¾ã€‚',
        'å†›é˜Ÿè§„æ¨¡ï¼šç»´æŒå¸¸å¤‡å†›éœ€è¦å¤§é‡è¡Œæ”¿åŠ›ã€‚',
        'æ”¿ä»¤æ•°é‡ï¼šæ¿€æ´»çš„æ”¿ä»¤è¶Šå¤šï¼Œè¡Œæ”¿è´Ÿæ‹…è¶Šé‡ã€‚',
        'å»ºç­‘æ•°é‡ï¼šå¤§é‡å»ºç­‘éœ€è¦ç®¡ç†å’Œç»´æŠ¤ã€‚'
      ]},
      { type: 'h4', text: '3. è¶…é™æƒ©ç½š' },
      { type: 'p', text: 'å½“è¡Œæ”¿å‹åŠ› > è¡Œæ”¿å®¹é‡æ—¶ï¼Œå›½å®¶è¿›å…¥"è¡Œæ”¿è¿‡è½½"çŠ¶æ€ã€‚åæœåŒ…æ‹¬ï¼š' },
      { type: 'list', items: [
        'ç¨æ”¶æ•ˆç‡å¤§å¹…ä¸‹é™ï¼ˆæ”¶ä¸ä¸Šç¨ï¼‰ã€‚',
        'æ”¿ä»¤æ•ˆæœå‡å¼±ã€‚',
        'ç¤¾ä¼šç¨³å®šåº¦é€æ¸é™ä½ã€‚',
        'å»ºç­‘ç”Ÿäº§æ•ˆç‡ä¸‹é™ã€‚'
      ]},
      { type: 'h4', text: '4. æå‡è¡Œæ”¿å®¹é‡çš„æ–¹æ³•' },
      { type: 'list', items: [
        'å»ºé€ å¸‚æ”¿å…ï¼šæ¯ä¸ªå¸‚æ”¿å…æä¾›å¤§é‡è¡Œæ”¿å®¹é‡',
        'ç ”ç©¶è¡Œæ”¿ç§‘æŠ€ï¼šè§£é”æ›´é«˜æ•ˆçš„ç®¡ç†æ–¹å¼',
        'æ»¡è¶³å®˜å‘˜éœ€æ±‚ï¼šå®˜å‘˜æ»¡æ„æ—¶æä¾›è¡Œæ”¿åŠ æˆ',
        'é¢å¸ƒç›¸å…³æ”¿ä»¤ï¼šæŸäº›æ”¿ä»¤å¯ä»¥æå‡è¡Œæ”¿æ•ˆç‡'
      ]}
    ]
  },
  {
    id: 'mech_military',
    name: 'å†›äº‹ä¸æˆ˜äº‰',
    icon: 'Swords',
    summary: 'å…µç§å…‹åˆ¶ã€æˆ˜æ–—è®¡ç®—ä¸æˆ˜åˆ©å“',
    content: [
      { type: 'h4', text: '1. å…µç§å…‹åˆ¶å¾ªç¯' },
      { type: 'p', text: 'æˆ˜åœºéµå¾ªä¸¥æ ¼çš„å…‹åˆ¶å…³ç³»ï¼Œåˆ©ç”¨å¥½è¿™ä¸€ç‚¹å¯ä»¥ä»¥å°‘èƒœå¤šï¼š' },
      { type: 'list', items: [
        'éª‘å…µ å…‹åˆ¶ å¼“ç®­æ‰‹/è¿œç¨‹ (+50%~80% ä¼¤å®³)',
        'å¼“ç®­æ‰‹ å…‹åˆ¶ æ­¥å…µ (+50% ä¼¤å®³)',
        'æ­¥å…µ/é•¿çŸ›å…µ å…‹åˆ¶ éª‘å…µ (+80% ä¼¤å®³)',
        'å¦å…‹/ç«ç‚® å¯¹æ—§æ—¶ä»£å•ä½æœ‰æ¯ç­æ€§æ‰“å‡»ã€‚'
      ]},
      { type: 'h4', text: '2. æˆ˜æ–—åŠ›è®¡ç®—' },
      { type: 'p', text: 'æ€»æˆ˜åŠ› = (å•ä½æ”»å‡»+é˜²å¾¡) Ã— æ•°é‡ Ã— æ—¶ä»£åŠ æˆ Ã— å…‹åˆ¶ä¿®æ­£ã€‚' },
      { type: 'p', text: 'æ­¤å¤–ï¼Œç¤¾ä¼šé˜¶å±‚ï¼ˆå¦‚å†›äººã€éª‘å£«ï¼‰çš„æ»¡æ„åº¦ä¼šæä¾›å…¨å±€å†›äº‹Buffã€‚' },
      { type: 'h4', text: '3. æˆ˜åˆ©å“ä¸æŸå¤±' },
      { type: 'p', text: 'æˆ˜æ–—èƒœåˆ©å¯ä»¥æ å¤ºæ•Œå›½èµ„æºï¼ˆç²®é£Ÿã€é“¶å¸ç­‰ï¼‰ã€‚å‹å€’æ€§èƒœåˆ©ï¼ˆæˆ˜åŠ›æ¯” > 2:1ï¼‰èƒ½å¤§å¹…å‡å°‘å·±æ–¹ä¼¤äº¡å¹¶å¢åŠ æˆ˜åˆ©å“ã€‚' },
      { type: 'h4', text: '4. å†›é˜Ÿç®¡ç†' },
      { type: 'list', items: [
        'è¡Œæ”¿é™åˆ¶ï¼šæ¯ä¸ªå•ä½æ¶ˆè€—è¡Œæ”¿åŠ›ï¼Œæ€»æ¶ˆè€—ä¸èƒ½è¶…è¿‡è¡Œæ”¿å®¹é‡',
        'äººå£é™åˆ¶ï¼šå†›é˜Ÿäººå£ä¸èƒ½è¶…è¿‡æ€»äººå£çš„30%',
        'ç»´æŠ¤æˆæœ¬ï¼šæ¯ä¸ªå•ä½æ¯ç§’æ¶ˆè€—èµ„æºï¼ˆç²®é£Ÿã€é»„é‡‘ç­‰ï¼‰',
        'è®­ç»ƒæ—¶é—´ï¼šé«˜çº§å•ä½éœ€è¦æ›´é•¿çš„è®­ç»ƒæ—¶é—´',
        'æ—¶ä»£ä¼˜åŠ¿ï¼šé«˜æ—¶ä»£å•ä½å¯¹ä½æ—¶ä»£å•ä½æœ‰é¢å¤–ä¼¤å®³åŠ æˆ'
      ]},
      { type: 'h4', text: '5. æˆ˜äº‰ç­–ç•¥' },
      { type: 'list', items: [
        'æ—©æœŸï¼šå¿«é€Ÿæ‹›å‹Ÿæ°‘å…µå’Œé•¿çŸ›å…µè¿›è¡Œé˜²å¾¡',
        'ä¸­æœŸï¼šç»„å»ºéª‘å£«+å¼©å…µçš„æ··åˆéƒ¨é˜Ÿ',
        'åæœŸï¼šä½¿ç”¨ç«æªå…µã€å¦å…‹ç­‰ç°ä»£å•ä½ç¢¾å‹',
        'å…‹åˆ¶é…ç½®ï¼šä¾¦å¯Ÿæ•Œå†›åé’ˆå¯¹æ€§æ‹›å‹Ÿå…‹åˆ¶å…µç§',
        'ç»æµæ”¯æ’‘ï¼šç¡®ä¿æœ‰è¶³å¤Ÿçš„èµ„æºç»´æŒå†›é˜Ÿ'
      ]}
    ]
  },
  {
    id: 'mech_tech',
    name: 'ç§‘æŠ€ä¸æ—¶ä»£',
    icon: 'Cpu',
    summary: 'æ—¶ä»£æ¼”è¿›ä¸ç§‘æŠ€è§£é”é€»è¾‘',
    content: [
      { type: 'h4', text: '1. æ—¶ä»£å‡çº§' },
      { type: 'p', text: 'æ—¶ä»£æ˜¯æ–‡æ˜å‘å±•çš„é‡Œç¨‹ç¢‘ã€‚å‡çº§æ—¶ä»£éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š' },
      { type: 'list', items: [
        'ç§‘ç ”ç‚¹æ•°è¾¾æ ‡',
        'äººå£è§„æ¨¡è¾¾æ ‡',
        'æ–‡åŒ–ç‚¹æ•°è¾¾æ ‡ï¼ˆå°å»ºæ—¶ä»£èµ·ï¼‰',
        'è¶³å¤Ÿçš„å‡çº§èµ„æºï¼ˆç²®é£Ÿã€æœ¨æã€çŸ³æ–™ã€é»„é‡‘ç­‰ï¼‰'
      ]},
      { type: 'h4', text: '2. æ—¶ä»£åŠ æˆ' },
      { type: 'p', text: 'æ¯æ¬¡å‡çº§æ—¶ä»£éƒ½ä¼šè·å¾—æ°¸ä¹…æ€§çš„å…¨å±€åŠ æˆï¼š' },
      { type: 'list', items: [
        'é’é“œæ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+15%ï¼Œå†›äº‹åŠ›é‡+10%',
        'å¤å…¸æ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+20%ï¼Œå†›äº‹åŠ›é‡+15%ï¼Œæ–‡åŒ–äº§å‡º+10%',
        'å°å»ºæ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+25%ï¼Œå†›äº‹åŠ›é‡+20%ï¼Œæ–‡åŒ–äº§å‡º+15%',
        'æ¢ç´¢æ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+30%ï¼Œå†›äº‹åŠ›é‡+25%ï¼Œæ–‡åŒ–äº§å‡º+20%',
        'å¯è’™æ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+35%ï¼Œå†›äº‹åŠ›é‡+30%ï¼Œæ–‡åŒ–äº§å‡º+25%',
        'å·¥ä¸šæ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+40%ï¼Œå†›äº‹åŠ›é‡+35%ï¼Œæ–‡åŒ–äº§å‡º+30%',
        'ä¿¡æ¯æ—¶ä»£ï¼šé‡‡é›†æ•ˆç‡+50%ï¼Œå†›äº‹åŠ›é‡+40%ï¼Œæ–‡åŒ–äº§å‡º+35%'
      ]},
      { type: 'h4', text: '3. è§£é”æ–°æœºåˆ¶' },
      { type: 'p', text: 'æ–°æ—¶ä»£ä¸ä»…ä»…è§£é”å»ºç­‘ï¼Œè¿˜ä¼šè§£é”æ ¸å¿ƒæœºåˆ¶ï¼š' },
      { type: 'list', items: [
        'é’é“œæ—¶ä»£ï¼šè§£é”è´¸æ˜“ç³»ç»Ÿå’ŒåŸºç¡€å¤–äº¤ã€‚',
        'å¤å…¸æ—¶ä»£ï¼šè§£é”æ–‡åŒ–ç³»ç»Ÿå’Œé«˜çº§æ”¿ä»¤ã€‚',
        'å°å»ºæ—¶ä»£ï¼šè§£é”å®—æ•™å’Œæ›´å¤æ‚çš„é˜¶å±‚äº’åŠ¨ã€‚',
        'å·¥ä¸šæ—¶ä»£ï¼šè§£é”äº§ä¸šé“¾æ·±åº¦åŠ å·¥ï¼ˆå¦‚ç…¤â†’é’¢ï¼‰ã€‚'
      ]},
      { type: 'h4', text: '4. ç§‘æŠ€ç ”ç©¶' },
      { type: 'list', items: [
        'ç§‘æŠ€éœ€è¦æ¶ˆè€—ç§‘ç ”ç‚¹æ•°è§£é”',
        'æŸäº›ç§‘æŠ€æœ‰å‰ç½®ç§‘æŠ€è¦æ±‚',
        'ç§‘æŠ€æ•ˆæœåŒ…æ‹¬ï¼šè§£é”å»ºç­‘ã€æå‡æ•ˆç‡ã€å¢åŠ å®¹é‡ç­‰',
        'ä¼˜å…ˆç ”ç©¶å…³é”®ç§‘æŠ€å¯ä»¥å¿«é€Ÿå‘å±•'
      ]}
    ]
  },
  {
    id: 'mech_diplomacy',
    name: 'å¤–äº¤ä¸å›½é™…å…³ç³»',
    icon: 'Globe',
    summary: 'è´¸æ˜“ã€ç»“ç›Ÿã€æˆ˜äº‰ä¸å¤–äº¤ç­–ç•¥',
    content: [
      { type: 'h4', text: '1. å¤–äº¤å…³ç³»' },
      { type: 'p', text: 'ä¸å…¶ä»–å›½å®¶çš„å…³ç³»ä¼šå½±å“è´¸æ˜“å’Œæˆ˜äº‰ï¼š' },
      { type: 'list', items: [
        'å…³ç³»å€¼èŒƒå›´ï¼š-100ï¼ˆæ•Œå¯¹ï¼‰åˆ° +100ï¼ˆç›Ÿå‹ï¼‰',
        'å…³ç³»å½±å“è´¸æ˜“ä»·æ ¼ï¼šå…³ç³»å¥½æ—¶ä»·æ ¼æ›´ä¼˜æƒ ',
        'å…³ç³»å½±å“æˆ˜äº‰ï¼šæ”»å‡»å‹å¥½å›½å®¶ä¼šå—åˆ°å¤–äº¤æƒ©ç½š',
        'å…³ç³»ä¼šéšæ—¶é—´å’Œäº’åŠ¨è‡ªç„¶å˜åŒ–'
      ]},
      { type: 'h4', text: '2. è´¸æ˜“ç³»ç»Ÿ' },
      { type: 'list', items: [
        'æ¯ä¸ªå›½å®¶æœ‰ä¸åŒçš„æ”¶è´­ä»·å’Œå‡ºå”®ä»·',
        'å¯ä»¥å‡ºå£ç›ˆä½™èµ„æºæ¢å–é“¶å¸',
        'å¯ä»¥è¿›å£ç¨€ç¼ºèµ„æºæ»¡è¶³å›½å†…éœ€æ±‚',
        'è´¸æ˜“ä¼šå½±å“å›½é™…å…³ç³»ï¼ˆé€šå¸¸æ˜¯æ­£é¢å½±å“ï¼‰',
        'å•†ä¸šå›½å®¶ï¼ˆå¦‚å¨å°¼æ–¯ï¼‰æä¾›æ›´å¥½çš„è´¸æ˜“ä»·æ ¼'
      ]},
      { type: 'h4', text: '3. è¿›è´¡ä¸å¤–äº¤' },
      { type: 'list', items: [
        'å¯ä»¥å‘å…¶ä»–å›½å®¶è¿›è´¡èµ„æºæå‡å…³ç³»',
        'è¿›è´¡é€‚åˆåœ¨å‡†å¤‡æˆ˜äº‰å‰æ”¹å–„å…³ç³»',
        'ä¹Ÿå¯ä»¥ç”¨æ¥é¿å…è¢«å¼ºå›½æ”»å‡»'
      ]},
      { type: 'h4', text: '4. æˆ˜äº‰ä¸å¾æœ' },
      { type: 'list', items: [
        'æ”»å‡»å…¶ä»–å›½å®¶éœ€è¦æœ‰å†›é˜Ÿ',
        'æˆ˜æ–—ç»“æœç”±åŒæ–¹æˆ˜æ–—åŠ›å†³å®š',
        'èƒœåˆ©å¯ä»¥è·å¾—æˆ˜åˆ©å“ï¼ˆèµ„æºï¼‰',
        'å¤±è´¥ä¼šæŸå¤±å†›é˜Ÿå’Œèµ„æº',
        'é¢‘ç¹æˆ˜äº‰ä¼šé™ä½ä¸å…¶ä»–å›½å®¶çš„å…³ç³»'
      ]},
      { type: 'h4', text: '5. å›½å®¶ç‰¹æ€§' },
      { type: 'p', text: 'ä¸åŒå›½å®¶æœ‰ä¸åŒçš„ç‰¹ç‚¹å’Œåå¥½ï¼š' },
      { type: 'list', items: [
        'å¤§æ˜å¸å›½ï¼šå†›äº‹å¼ºå›½ï¼Œæ“…é•¿é™†æˆ˜',
        'å¨å°¼æ–¯å…±å’Œå›½ï¼šå•†ä¸šå…±å’Œå›½ï¼Œè´¸æ˜“ä»·æ ¼ä¼˜æƒ ',
        'æ•™çš‡å›½ï¼šç¥æƒå›½å®¶ï¼Œæ–‡åŒ–å½±å“åŠ›å¼º',
        'å¥¥æ–¯æ›¼å¸å›½ï¼šæ‰©å¼ å‹å¸å›½ï¼Œå†›äº‹å’Œè´¸æ˜“å¹¶é‡',
        'äº†è§£å„å›½ç‰¹ç‚¹æœ‰åŠ©äºåˆ¶å®šå¤–äº¤ç­–ç•¥'
      ]}
    ]
  },
  {
    id: 'mech_decrees',
    name: 'æ”¿ä»¤ç³»ç»Ÿ',
    icon: 'Gavel',
    summary: 'å›½å®¶æ”¿ç­–ã€ç¨æ”¶è°ƒæ•´ä¸æ”¿ä»¤æ•ˆæœ',
    content: [
      { type: 'h4', text: '1. æ”¿ä»¤ç±»å‹' },
      { type: 'p', text: 'æ”¿ä»¤åˆ†ä¸ºå¤šä¸ªç±»åˆ«ï¼Œæ¯ä¸ªéƒ½æœ‰ç‹¬ç‰¹çš„æ•ˆæœï¼š' },
      { type: 'list', items: [
        'ç»æµæ”¿ä»¤ï¼šå½±å“ç”Ÿäº§ã€è´¸æ˜“å’Œç¨æ”¶',
        'å†›äº‹æ”¿ä»¤ï¼šå½±å“å†›é˜Ÿæ‹›å‹Ÿå’Œæˆ˜æ–—åŠ›',
        'æ–‡åŒ–æ”¿ä»¤ï¼šå½±å“ç§‘ç ”å’Œæ–‡åŒ–äº§å‡º',
        'ç¤¾ä¼šæ”¿ä»¤ï¼šå½±å“é˜¶å±‚å…³ç³»å’Œç¨³å®šåº¦'
      ]},
      { type: 'h4', text: '2. æ”¿ä»¤æˆæœ¬' },
      { type: 'list', items: [
        'æ¯ä¸ªæ”¿ä»¤éœ€è¦æ¶ˆè€—è¡Œæ”¿åŠ›æ¿€æ´»',
        'æ¿€æ´»çš„æ”¿ä»¤è¶Šå¤šï¼Œè¡Œæ”¿å‹åŠ›è¶Šå¤§',
        'å¯ä»¥éšæ—¶å–æ¶ˆæ”¿ä»¤ï¼Œä½†ä¸é€€è¿˜è¡Œæ”¿æˆæœ¬',
        'åˆç†é€‰æ‹©æ”¿ä»¤é¿å…è¡Œæ”¿è¿‡è½½'
      ]},
      { type: 'h4', text: '3. æ”¿ä»¤æ•ˆæœ' },
      { type: 'p', text: 'æ”¿ä»¤é€šå¸¸æœ‰æ­£é¢æ•ˆæœå’Œè´Ÿé¢ä»£ä»·ï¼š' },
      { type: 'list', items: [
        'å¼ºåˆ¶åŠ³åŠ¨ï¼šç”Ÿäº§+30%ï¼Œä½†å†œæ°‘å¥½æ„Ÿåº¦-20',
        'è‡ªç”±è´¸æ˜“ï¼šè´¸æ˜“æ”¶ç›Š+25%ï¼Œä½†ç¨æ”¶-10%',
        'å¾å…µæ³•ï¼šå†›é˜Ÿæ‹›å‹Ÿé€Ÿåº¦+50%ï¼Œä½†äººå£å¢é•¿-20%',
        'å…¬å…±æ•™è‚²ï¼šç§‘ç ”+30%ï¼Œä½†ç»´æŠ¤æˆæœ¬å¢åŠ ',
        'éœ€è¦æƒè¡¡åˆ©å¼Šé€‰æ‹©åˆé€‚çš„æ”¿ä»¤'
      ]},
      { type: 'h4', text: '4. ç¨æ”¶æ”¿ä»¤' },
      { type: 'p', text: 'ç¨æ”¶é¢æ¿å¯ä»¥è°ƒæ•´å„é˜¶å±‚çš„ç¨ç‡ï¼š' },
      { type: 'list', items: [
        'äººå¤´ç¨ï¼šå¯¹æ¯ä¸ªäººå£å¾æ”¶å›ºå®šç¨é¢',
        'èµ„æºç¨ï¼šå¯¹å¸‚åœºäº¤æ˜“å¾æ”¶ç™¾åˆ†æ¯”ç¨',
        'å¯ä»¥è®¾ç½®è´Ÿç¨ç‡ï¼ˆè¡¥è´´ï¼‰æå‡é˜¶å±‚å¥½æ„Ÿ',
        'è¿‡é«˜çš„ç¨ç‡ä¼šå¯¼è‡´é˜¶å±‚ä¸æ»¡å’Œäººå£æµå¤±',
        'å»ºè®®ï¼šå‰æœŸä½ç¨ç‡å‘å±•ï¼ŒåæœŸé€‚åº¦å¾ç¨'
      ]},
      { type: 'h4', text: '5. æ”¿ä»¤ç­–ç•¥' },
      { type: 'list', items: [
        'ç»æµæµï¼šæ¿€æ´»è´¸æ˜“å’Œç”Ÿäº§ç›¸å…³æ”¿ä»¤',
        'å†›äº‹æµï¼šæ¿€æ´»å¾å…µå’Œå†›äº‹åŠ æˆæ”¿ä»¤',
        'æ–‡åŒ–æµï¼šæ¿€æ´»ç§‘ç ”å’Œæ•™è‚²æ”¿ä»¤',
        'å¹³è¡¡æµï¼šå°‘é‡æ¿€æ´»å„ç±»æ”¿ä»¤ä¿æŒå¹³è¡¡',
        'æ ¹æ®æ¸¸æˆé˜¶æ®µå’Œç›®æ ‡è°ƒæ•´æ”¿ä»¤ç»„åˆ'
      ]}
    ]
  },
  {
    id: 'mech_buildings',
    name: 'å»ºç­‘ä¸ç”Ÿäº§',
    icon: 'Home',
    summary: 'å»ºç­‘ç±»å‹ã€ç”Ÿäº§é“¾ä¸èµ„æºç®¡ç†',
    content: [
      { type: 'h4', text: '1. å»ºç­‘ç±»åˆ«' },
      { type: 'list', items: [
        'é‡‡é›†å»ºç­‘ï¼šå†œç”°ã€ä¼æœ¨åœºã€é‡‡çŸ³åœºã€çŸ¿åœºç­‰ï¼Œç”Ÿäº§åŸºç¡€èµ„æº',
        'å·¥ä¸šå»ºç­‘ï¼šé”¯æœ¨å‚ã€ç –çª‘ã€é“åŒ é“ºç­‰ï¼ŒåŠ å·¥åŸæ–™ä¸ºæˆå“',
        'æ°‘ç”Ÿå»ºç­‘ï¼šæˆ¿å±‹ã€å¸‚åœºã€å›¾ä¹¦é¦†ç­‰ï¼Œæä¾›äººå£å’ŒæœåŠ¡',
        'å†›äº‹å»ºç­‘ï¼šå…µè¥ã€é©¬å©ã€æ”»åŸå·¥åŠç­‰ï¼Œè®­ç»ƒå†›é˜Ÿ',
        'è¡Œæ”¿å»ºç­‘ï¼šå¸‚æ”¿å…ã€æ³•é™¢ç­‰ï¼Œæä¾›è¡Œæ”¿å®¹é‡'
      ]},
      { type: 'h4', text: '2. ç”Ÿäº§æœºåˆ¶' },
      { type: 'list', items: [
        'å»ºç­‘éœ€è¦å²—ä½æ‰èƒ½è¿ä½œï¼ˆç”±å¯¹åº”é˜¶å±‚å¡«è¡¥ï¼‰',
        'æœ‰äº›å»ºç­‘éœ€è¦æ¶ˆè€—åŸæ–™æ‰èƒ½ç”Ÿäº§ï¼ˆå¦‚é”¯æœ¨å‚éœ€è¦æœ¨æï¼‰',
        'ç”Ÿäº§æ•ˆç‡å—æ—¶ä»£åŠ æˆã€ç§‘æŠ€ã€æ”¿ä»¤ã€é˜¶å±‚å¥½æ„Ÿåº¦å½±å“',
        'å»ºç­‘å¯ä»¥å‡ºå”®å›æ”¶éƒ¨åˆ†æˆæœ¬ï¼Œä½†ä¼šå¤±å»å²—ä½'
      ]},
      { type: 'h4', text: '3. èµ„æºæµè½¬' },
      { type: 'p', text: 'ç†è§£èµ„æºçš„ç”Ÿäº§å’Œæ¶ˆè€—é“¾æ¡å¾ˆé‡è¦ï¼š' },
      { type: 'list', items: [
        'åŸºç¡€èµ„æºï¼šç²®é£Ÿã€æœ¨æã€çŸ³æ–™ï¼ˆé‡‡é›†å»ºç­‘ç”Ÿäº§ï¼‰',
        'åŠ å·¥èµ„æºï¼šæœ¨æ¿ã€ç –å—ã€å·¥å…·ï¼ˆå·¥ä¸šå»ºç­‘åŠ å·¥ï¼‰',
        'é«˜çº§èµ„æºï¼šå¥¢ä¾ˆå“ã€æ–‡åŒ–ã€ç§‘ç ”ï¼ˆç‰¹æ®Šå»ºç­‘äº§å‡ºï¼‰',
        'äººå£æ¶ˆè€—ï¼šæ‰€æœ‰äººå£éƒ½éœ€è¦ç²®é£Ÿç»´æŒ',
        'é˜¶å±‚éœ€æ±‚ï¼šä¸åŒé˜¶å±‚éœ€è¦ä¸åŒçš„ç‰©èµ„ï¼ˆå¦‚å•†äººéœ€è¦é¦™æ–™ï¼‰'
      ]},
      { type: 'h4', text: '4. å»ºç­‘ç­–ç•¥' },
      { type: 'list', items: [
        'å‰æœŸï¼šä¼˜å…ˆå»ºé€ é‡‡é›†å»ºç­‘å’Œæˆ¿å±‹ï¼Œç¡®ä¿åŸºç¡€èµ„æºå’Œäººå£',
        'ä¸­æœŸï¼šå»ºé€ å·¥ä¸šå»ºç­‘å½¢æˆç”Ÿäº§é“¾ï¼Œæå‡èµ„æºä»·å€¼',
        'åæœŸï¼šå»ºé€ é«˜çº§å»ºç­‘äº§å‡ºæ–‡åŒ–ã€ç§‘ç ”ç­‰è™šæ‹Ÿèµ„æº',
        'å¹³è¡¡ï¼šç¡®ä¿ç”Ÿäº§å’Œæ¶ˆè€—å¹³è¡¡ï¼Œé¿å…èµ„æºçŸ­ç¼ºæˆ–è¿‡å‰©',
        'å‡çº§ï¼šéšç€æ—¶ä»£å‡çº§ï¼Œæ—§å»ºç­‘æ•ˆç‡é™ä½ï¼Œéœ€è¦å»ºé€ æ–°å»ºç­‘'
      ]},
      { type: 'h4', text: '5. å»ºç­‘è§£é”' },
      { type: 'list', items: [
        'å»ºç­‘æŒ‰æ—¶ä»£è§£é”ï¼Œå‡çº§æ—¶ä»£è§£é”æ›´å¤šå»ºç­‘',
        'æŸäº›å»ºç­‘éœ€è¦ç‰¹å®šç§‘æŠ€æ‰èƒ½è§£é”',
        'é«˜çº§å»ºç­‘é€šå¸¸æ•ˆç‡æ›´é«˜ä½†æˆæœ¬ä¹Ÿæ›´é«˜',
        'æŸ¥çœ‹å»ºç­‘è¯¦æƒ…äº†è§£è§£é”æ¡ä»¶'
      ]}
    ]
  },
  {
    id: 'mech_festivals',
    name: 'å¹´åº¦åº†å…¸ç³»ç»Ÿ',
    icon: 'PartyPopper',
    summary: 'æ¯å¹´ä¸€æ¬¡çš„åº†å…¸é€‰æ‹©ä¸æ•ˆæœ',
    content: [
      { type: 'h4', text: '1. åº†å…¸è§¦å‘' },
      { type: 'list', items: [
        'æ¯å¹´ï¼ˆæ¸¸æˆå†…æ—¶é—´ï¼‰ä¼šè§¦å‘ä¸€æ¬¡å¹´åº¦åº†å…¸',
        'åº†å…¸ä¼šæš‚åœæ¸¸æˆï¼Œè¦æ±‚ä½ åšå‡ºé€‰æ‹©',
        'å¿…é¡»é€‰æ‹©ä¸€ä¸ªåº†å…¸æ•ˆæœæ‰èƒ½ç»§ç»­æ¸¸æˆ'
      ]},
      { type: 'h4', text: '2. åº†å…¸ç±»å‹' },
      { type: 'p', text: 'æ¯æ¬¡åº†å…¸æä¾›3ä¸ªéšæœºé€‰é¡¹ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š' },
      { type: 'list', items: [
        'çŸ­æœŸæ•ˆæœï¼šæŒç»­1å¹´ï¼Œæ•°å€¼è¾ƒé«˜ï¼ˆå¦‚ç§‘ç ”+50%ï¼‰',
        'æ°¸ä¹…æ•ˆæœï¼šæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ•°å€¼è¾ƒä½ï¼ˆå¦‚ç§‘ç ”+10%ï¼‰',
        'ä¸åŒæ—¶ä»£æœ‰ä¸åŒçš„åº†å…¸é€‰é¡¹'
      ]},
      { type: 'h4', text: '3. åº†å…¸æ•ˆæœ' },
      { type: 'p', text: 'åº†å…¸å¯ä»¥æä¾›å„ç§åŠ æˆï¼š' },
      { type: 'list', items: [
        'èµ„æºäº§å‡ºåŠ æˆï¼šé‡‡é›†ã€ç”Ÿäº§ã€ç§‘ç ”ã€æ–‡åŒ–ç­‰',
        'å†›äº‹åŠ æˆï¼šå†›äº‹åŠ›é‡ã€æ‹›å‹Ÿé€Ÿåº¦ç­‰',
        'ç»æµåŠ æˆï¼šè´¸æ˜“æ”¶ç›Šã€ç¨æ”¶ç­‰',
        'ç¤¾ä¼šåŠ æˆï¼šç¨³å®šåº¦ã€äººå£å¢é•¿ç­‰',
        'è¡Œæ”¿åŠ æˆï¼šè¡Œæ”¿å®¹é‡ã€æ•ˆç‡ç­‰'
      ]},
      { type: 'h4', text: '4. é€‰æ‹©ç­–ç•¥' },
      { type: 'list', items: [
        'å‰æœŸï¼šé€‰æ‹©èµ„æºäº§å‡ºåŠ æˆå¿«é€Ÿå‘å±•',
        'ä¸­æœŸï¼šæ ¹æ®å‘å±•æ–¹å‘é€‰æ‹©ï¼ˆå†›äº‹/ç»æµ/æ–‡åŒ–ï¼‰',
        'åæœŸï¼šä¼˜å…ˆé€‰æ‹©æ°¸ä¹…æ•ˆæœç´¯ç§¯ä¼˜åŠ¿',
        'çŸ­æœŸæ•ˆæœé€‚åˆåº”æ€¥ï¼ˆå¦‚å‡†å¤‡æˆ˜äº‰æ—¶é€‰å†›äº‹åŠ æˆï¼‰',
        'æ°¸ä¹…æ•ˆæœé€‚åˆé•¿æœŸå‘å±•ï¼ˆå¦‚ç§‘ç ”+10%æ°¸ä¹…ï¼‰'
      ]},
      { type: 'h4', text: '5. åº†å…¸ç¤ºä¾‹' },
      { type: 'list', items: [
        'ä¸°æ”¶èŠ‚ï¼šé‡‡é›†æ•ˆç‡+30%ï¼ˆ1å¹´ï¼‰',
        'é»„é‡‘æ—¶ä»£ï¼šå…¨é¢æå‡20%ï¼ˆ1å¹´ï¼‰',
        'ç§‘å­¦åšè§ˆä¼šï¼šç§‘ç ”+40%ï¼ˆ1å¹´ï¼‰',
        'æ•™è‚²æ”¹é©ï¼šç§‘ç ”+12%ï¼ˆæ°¸ä¹…ï¼‰',
        'æµæ°´çº¿é©å‘½ï¼šå·¥ä¸š+15%ï¼ˆæ°¸ä¹…ï¼‰'
      ]}
    ]
  },
  {
    id: 'mech_advanced',
    name: 'é«˜çº§ç­–ç•¥ä¸æŠ€å·§',
    icon: 'Trophy',
    summary: 'è¿›é˜¶ç©æ³•ã€ä¼˜åŒ–ç­–ç•¥ä¸èƒœåˆ©æ¡ä»¶',
    content: [
      { type: 'h4', text: '1. ç»æµä¼˜åŒ–' },
      { type: 'list', items: [
        'å¥—åˆ©è´¸æ˜“ï¼šä½ä»·è¿›å£èµ„æºï¼Œé«˜ä»·å‡ºå£èµšå–å·®ä»·',
        'äº§ä¸šé“¾ï¼šå»ºç«‹å®Œæ•´çš„ç”Ÿäº§é“¾ï¼ˆå¦‚æœ¨æâ†’æœ¨æ¿â†’å®¶å…·ï¼‰æå‡ä»·å€¼',
        'ç¨æ”¶å¹³è¡¡ï¼šé€‚åº¦å¾ç¨é¿å…é˜¶å±‚ä¸æ»¡ï¼ŒåŒæ—¶ä¿è¯è´¢æ”¿æ”¶å…¥',
        'å•†äººç³»ç»Ÿï¼šå»ºé€ è´¸æ˜“ç«™è®©å•†äººè‡ªåŠ¨äº¤æ˜“èµšå–åˆ©æ¶¦',
        'å¸‚åœºè°ƒæ§ï¼šé€šè¿‡è¿›å‡ºå£è°ƒèŠ‚å›½å†…èµ„æºä»·æ ¼'
      ]},
      { type: 'h4', text: '2. å†›äº‹ç­–ç•¥' },
      { type: 'list', items: [
        'å…‹åˆ¶é…ç½®ï¼šä¾¦å¯Ÿæ•Œå†›åé’ˆå¯¹æ€§æ‹›å‹Ÿå…‹åˆ¶å…µç§',
        'æ—¶ä»£å‹åˆ¶ï¼šä¼˜å…ˆå‡çº§æ—¶ä»£è·å¾—ç§‘æŠ€ä¼˜åŠ¿',
        'ç»æµæ”¯æ’‘ï¼šç¡®ä¿æœ‰è¶³å¤Ÿçš„èµ„æºç»´æŒå¤§è§„æ¨¡å†›é˜Ÿ',
        'æ··åˆéƒ¨é˜Ÿï¼šæ­¥å…µ+å¼“ç®­æ‰‹+éª‘å…µçš„å¹³è¡¡é…ç½®',
        'å‹å€’æ€§ä¼˜åŠ¿ï¼šé›†ä¸­ä¼˜åŠ¿å…µåŠ›å‡å°‘ä¼¤äº¡'
      ]},
      { type: 'h4', text: '3. ç§‘æŠ€è·¯çº¿' },
      { type: 'list', items: [
        'ä¼˜å…ˆç§‘æŠ€ï¼šåŸºç¡€å·¥å…·ã€è½¦è½®ã€å°å»ºåˆ¶åº¦ç­‰å…³é”®ç§‘æŠ€',
        'å»ºç­‘è§£é”ï¼šç ”ç©¶è§£é”é‡è¦å»ºç­‘çš„ç§‘æŠ€',
        'æ•ˆç‡æå‡ï¼šç ”ç©¶æå‡ç”Ÿäº§æ•ˆç‡çš„ç§‘æŠ€',
        'å†›äº‹ç§‘æŠ€ï¼šå‡†å¤‡æˆ˜äº‰æ—¶ä¼˜å…ˆç ”ç©¶å†›äº‹ç§‘æŠ€',
        'å¹³è¡¡å‘å±•ï¼šä¸è¦åªç ”ç©¶ä¸€ç±»ç§‘æŠ€'
      ]},
      { type: 'h4', text: '4. é˜¶å±‚ç®¡ç†' },
      { type: 'list', items: [
        'æ»¡è¶³éœ€æ±‚ï¼šä¼˜å…ˆæ»¡è¶³å½±å“åŠ›å¤§çš„é˜¶å±‚éœ€æ±‚',
        'ç¨ç‡è°ƒæ•´ï¼šå¯¹å¯Œè£•é˜¶å±‚é«˜ç¨ç‡ï¼Œå¯¹è´«å›°é˜¶å±‚ä½ç¨ç‡æˆ–è¡¥è´´',
        'èŒä¸šå¼•å¯¼ï¼šé€šè¿‡è°ƒæ•´å·¥èµ„å’Œéœ€æ±‚å¼•å¯¼äººå£è½¬èŒ',
        'å¹³è¡¡å½±å“åŠ›ï¼šé¿å…æŸä¸ªé˜¶å±‚å½±å“åŠ›è¿‡å¤§',
        'å±æœºå¤„ç†ï¼šé˜¶å±‚ä¸æ»¡æ—¶åŠæ—¶è°ƒæ•´æ”¿ç­–'
      ]},
      { type: 'h4', text: '5. èƒœåˆ©ç­–ç•¥' },
      { type: 'p', text: 'æ¸¸æˆæ²¡æœ‰æ˜ç¡®çš„èƒœåˆ©æ¡ä»¶ï¼Œä½†å¯ä»¥è¿½æ±‚ä»¥ä¸‹ç›®æ ‡ï¼š' },
      { type: 'list', items: [
        'ç»æµèƒœåˆ©ï¼šç§¯ç´¯å¤§é‡è´¢å¯Œï¼Œæˆä¸ºè´¸æ˜“å¼ºå›½',
        'å†›äº‹èƒœåˆ©ï¼šå¾æœæ‰€æœ‰é‚»å›½ï¼Œå»ºç«‹å¸å›½',
        'æ–‡åŒ–èƒœåˆ©ï¼šç§‘ç ”å’Œæ–‡åŒ–äº§å‡ºé¢†å…ˆï¼Œæˆä¸ºæ–‡æ˜ç¯å¡”',
        'æ—¶ä»£èƒœåˆ©ï¼šæœ€å¿«é€Ÿåº¦å‡çº§åˆ°ä¿¡æ¯æ—¶ä»£',
        'å¹³è¡¡èƒœåˆ©ï¼šå„æ–¹é¢å‡è¡¡å‘å±•ï¼Œå»ºç«‹ç¹è£æ–‡æ˜'
      ]},
      { type: 'h4', text: '6. å¸¸è§é™·é˜±' },
      { type: 'list', items: [
        'è¿‡åº¦æ‰©å¼ ï¼šäººå£å’Œå»ºç­‘å¢é•¿è¿‡å¿«å¯¼è‡´è¡Œæ”¿è¿‡è½½',
        'èµ„æºå¤±è¡¡ï¼šæŸç§èµ„æºä¸¥é‡çŸ­ç¼ºå½±å“å‘å±•',
        'å¿½è§†å†›äº‹ï¼šæ²¡æœ‰å†›é˜Ÿå®¹æ˜“è¢«é‚»å›½æ”»å‡»',
        'è¿‡åº¦å¾ç¨ï¼šé«˜ç¨ç‡å¯¼è‡´é˜¶å±‚ä¸æ»¡å’Œäººå£æµå¤±',
        'ç›²ç›®æˆ˜äº‰ï¼šæ²¡æœ‰ç»æµæ”¯æ’‘çš„æˆ˜äº‰ä¼šæ‹–å®å›½å®¶'
      ]}
    ]
  }
];
const CATEGORY_CONFIG = [
  { id: 'mechanics', label: 'æ ¸å¿ƒæœºåˆ¶', icon: 'BookOpen' },
  { id: 'economy', label: 'ç¤¾ä¼šé˜¶å±‚', icon: 'Users' },
  { id: 'buildings', label: 'å»ºç­‘è®¾æ–½', icon: 'Home' },
  { id: 'military', label: 'å†›äº‹å•ä½', icon: 'Shield' },
  { id: 'technologies', label: 'ç§‘æŠ€ç ”ç©¶', icon: 'Cpu' },
  { id: 'decrees', label: 'å›½å®¶æ”¿ä»¤', icon: 'Gavel' },
  { id: 'resources', label: 'ç‰©èµ„èµ„æº', icon: 'Package' },
];

// æ±‰åŒ–æ˜ å°„è¡¨
const BUILDING_CATEGORY_LABELS = {
  gather: 'é‡‡é›†ä¸å†œä¸š',
  industry: 'å·¥ä¸šç”Ÿäº§',
  civic: 'æ°‘ç”Ÿä¸è¡Œæ”¿',
  military: 'å†›äº‹è®¾æ–½',
};

const UNIT_CATEGORY_LABELS = {
  infantry: 'æ­¥å…µ',
  archer: 'è¿œç¨‹',
  cavalry: 'éª‘å…µ',
  siege: 'æ”»åŸ',
  support: 'æ”¯æ´',
};

const TECH_NAME_MAP = (TECHS || []).reduce((acc, tech) => {
  acc[tech.id] = tech.name;
  return acc;
}, {});

const STRATA_NAME_MAP = Object.entries(STRATA || {}).reduce((acc, [key, value]) => {
  acc[key] = value?.name || key;
  return acc;
}, {});

const techNameById = (id) => TECH_NAME_MAP[id] || id;
const stratumNameById = (id) => STRATA_NAME_MAP[id] || id;

const WIKI_DATA = buildWikiData();

function buildWikiData() {
  return {
    mechanics: MECHANICS_GUIDES.map(guide => ({
      id: guide.id,
      name: guide.name,
      summary: guide.summary,
      icon: guide.icon,
      iconColor: 'text-blue-300',
      type: 'mechanics',
      data: guide.content
    })),
    economy: Object.entries(STRATA || {}).map(([id, data]) => ({
      id,
      name: data?.name || id,
      summary: data?.desc,
      icon: data?.icon || 'Users',
      iconColor: 'text-amber-200',
      type: 'economy',
      data,
    })),
    buildings: (BUILDINGS || []).map((building) => ({
      id: building.id,
      name: building.name,
      summary: building.desc,
      icon: building.visual?.icon || 'Home',
      iconColor: building.visual?.text || 'text-slate-200',
      type: 'building',
      data: building,
    })),
    military: Object.values(UNIT_TYPES || {}).map((unit) => ({
      id: unit.id,
      name: unit.name,
      summary: unit.desc,
      icon: unit.icon || 'Swords',
      iconColor: 'text-red-200',
      type: 'military',
      data: unit,
    })),
    technologies: (TECHS || []).map((tech) => ({
      id: tech.id,
      name: tech.name,
      summary: tech.desc,
      icon: 'Cpu',
      iconColor: 'text-purple-200',
      type: 'technology',
      data: tech,
    })),
    decrees: (DECREES || []).map((decree) => ({
      id: decree.id,
      name: decree.name,
      summary: decree.desc,
      icon: 'Gavel',
      iconColor: 'text-amber-200',
      type: 'decree',
      data: decree,
    })),
    resources: Object.entries(RESOURCES || {}).map(([id, data]) => ({
      id,
      name: data?.name || id,
      summary: data?.tags?.map(tag => {
        if(tag === 'raw_material') return 'åŸæ–™';
        if(tag === 'manufactured') return 'åŠ å·¥å“';
        if(tag === 'luxury') return 'å¥¢ä¾ˆå“';
        if(tag === 'essential') return 'å¿…éœ€å“';
        if(tag === 'special') return 'ç‰¹æ®Š';
        if(tag === 'virtual') return 'è™šæ‹Ÿ';
        if(tag === 'currency') return 'è´§å¸';
        if(tag === 'industrial') return 'å·¥ä¸šå“';
        return tag;
      }).join(' Â· '),
      icon: data?.icon || 'Package',
      iconColor: data?.color || 'text-slate-200',
      type: 'resource',
      data: { ...data, id },
    })),
  };
}

const formatNumber = (value) => {
  if (typeof value !== 'number') return value;
  if (Math.abs(value) >= 100) return value.toFixed(0);
  if (Math.abs(value - Math.round(value)) < 0.001) return Math.round(value).toString();
  return value.toFixed(2);
};

const formatEpoch = (epoch) => {
  if (epoch === undefined || epoch === null || Number.isNaN(epoch)) return undefined;
  const epochName = EPOCHS[epoch]?.name || `ç¬¬ ${epoch + 1} æ—¶ä»£`;
  return epochName;
};

const getResourceMeta = (key) => RESOURCES?.[key] || { name: key };

const flattenEffects = (source, prefix = '') => {
  if (!source) return [];
  if (Array.isArray(source)) return source;
  if (typeof source === 'string') return [source];
  if (typeof source === 'number') return [`${prefix}${prefix ? ': ' : ''}${formatNumber(source)}`];

  if (typeof source === 'object') {
    return Object.entries(source).flatMap(([key, value]) => {
      // æ±‰åŒ–æ•ˆæœé”®å
      let cnKey = key;
      if(key === 'production') cnKey = 'å…¨å±€ç”Ÿäº§';
      else if(key === 'taxIncome') cnKey = 'ç¨æ”¶æ”¶å…¥';
      else if(key === 'stability') cnKey = 'ç¨³å®šåº¦';
      else if(key === 'scienceBonus') cnKey = 'ç§‘ç ”äº§å‡º';
      else if(key === 'cultureBonus') cnKey = 'æ–‡åŒ–äº§å‡º';
      else if(key === 'industry') cnKey = 'å·¥ä¸šæ•ˆç‡';
      else if(key === 'gather') cnKey = 'é‡‡é›†æ•ˆç‡';
      else if(key === 'admin') cnKey = 'è¡Œæ”¿å®¹é‡';
      else if(key === 'maxPop') cnKey = 'äººå£ä¸Šé™';
      
      const nextPrefix = prefix ? `${prefix} â€º ${cnKey}` : cnKey;
      if (typeof value === 'object' && !Array.isArray(value)) {
        return flattenEffects(value, nextPrefix);
      }
      if (Array.isArray(value)) {
        return value.map((item) => `${nextPrefix}: ${item}`);
      }
      return [`${nextPrefix}: ${formatNumber(value)}`];
    });
  }

  return [];
};

const renderResourceSection = (label, resources) => {
  if (!resources || typeof resources !== 'object') return null;
  const entries = Object.entries(resources);
  if (!entries.length) return null;

  return (
    <div className="space-y-2">
      <p className="text-sm text-gray-400">{label}</p>
      <div className="flex flex-wrap gap-2">
        {entries.map(([key, value]) => {
          const meta = getResourceMeta(key);
          return (
            <span
              key={`${label}-${key}`}
              className="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-800/70 text-gray-200 text-xs border border-gray-700"
            >
              {meta.icon && <Icon name={meta.icon} size={14} className={meta.color || 'text-gray-200'} />}
              <span>{meta.name || key}</span>
              {value !== undefined && <span className="font-mono text-[11px]">{formatNumber(value)}</span>}
            </span>
          );
        })}
      </div>
    </div>
  );
};

const renderJobSection = (jobs) => {
  if (!jobs || typeof jobs !== 'object') return null;
  const entries = Object.entries(jobs);
  if (!entries.length) return null;

  return (
    <div className="space-y-2">
      <p className="text-sm text-gray-400">æä¾›å²—ä½</p>
      <div className="flex flex-wrap gap-2">
        {entries.map(([key, value]) => {
          const stratum = STRATA?.[key];
          return (
            <span
              key={`job-${key}`}
              className="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-800/70 text-gray-200 text-xs border border-gray-700"
            >
              {stratum?.icon && <Icon name={stratum.icon} size={14} className="text-slate-200" />}
              <span>{stratum?.name || key}</span>
              <span className="font-mono text-[11px]">x{formatNumber(value)}</span>
            </span>
          );
        })}
      </div>
    </div>
  );
};

const renderListSection = (label, items) => {
  if (!items || !items.length) return null;
  return (
    <div className="space-y-2">
      <p className="text-sm text-gray-400">{label}</p>
      <ul className="list-disc list-inside text-gray-200 text-sm space-y-1">
        {items.map((item, idx) => (
          <li key={`${label}-${idx}`}>{item}</li>
        ))}
      </ul>
    </div>
  );
};

const InfoGrid = ({ rows }) => {
  if (!rows || !rows.length) return null;
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      {rows.map((row) => (
        <div key={row.label} className="bg-gray-800/60 rounded-lg p-3 border border-gray-700">
          <p className="text-xs text-gray-400">{row.label}</p>
          <p className="text-sm text-white font-semibold mt-1">{row.value}</p>
        </div>
      ))}
    </div>
  );
};

const StrataBuffs = ({ buffs }) => {
  if (!buffs) return null;
  const entries = Object.entries(buffs);
  if (!entries.length) return null;

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
      {entries.map(([state, info]) => {
        const { desc, ...rest } = info || {};
        return (
          <div key={state} className="bg-gray-800/60 border border-gray-700 rounded-lg p-3">
            <p className="text-xs uppercase tracking-wide text-gray-400">{state === 'satisfied' ? 'æ»¡æ„æ•ˆæœ' : 'ä¸æ»¡åæœ'}</p>
            <p className="text-sm text-gray-200 mt-1 font-semibold">{desc}</p>
            {renderListSection('æ•°å€¼å½±å“', flattenEffects(rest))}
          </div>
        );
      })}
    </div>
  );
};

const ResourceTags = ({ tags }) => {
  if (!tags || !tags.length) return null;
  return (
    <div className="flex flex-wrap gap-2">
      {tags.map((tag) => (
        <span
          key={tag}
          className="px-2 py-0.5 text-[11px] uppercase tracking-wide bg-gray-800/70 border border-gray-700 rounded-full text-gray-300"
        >
          {tag}
        </span>
      ))}
    </div>
  );
};

export const WikiModal = ({ show, onClose }) => {
  const [selectedCategory, setSelectedCategory] = useState(CATEGORY_CONFIG[0].id);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedEntryId, setSelectedEntryId] = useState(null);

  useEffect(() => {
    if (!show) return;
    setSelectedEntryId((prev) => prev || (WIKI_DATA[selectedCategory]?.[0]?.id ?? null));
  }, [show, selectedCategory]);
  const entries = useMemo(() => WIKI_DATA[selectedCategory] || [], [selectedCategory]);
  const normalizedSearch = searchTerm.trim().toLowerCase();
  const filteredEntries = useMemo(() => {
    if (!normalizedSearch) return entries;
    return entries.filter((entry) => {
      const haystack = `${entry.name} ${entry.summary || ''}`.toLowerCase();
      return haystack.includes(normalizedSearch);
    });
  }, [entries, normalizedSearch]);

  useEffect(() => {
    if (!filteredEntries.length) {
      setSelectedEntryId(null);
      return;
    }
    if (!filteredEntries.some((entry) => entry.id === selectedEntryId)) {
      setSelectedEntryId(filteredEntries[0].id);
    }
  }, [filteredEntries, selectedEntryId]);

  const selectedEntry =
    filteredEntries.find((entry) => entry.id === selectedEntryId) ||
    entries.find((entry) => entry.id === selectedEntryId) ||
    filteredEntries[0];

  if (!show) return null;

  return (
    <div className="fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 sm:p-4 p-0">
      <div className="bg-gray-900/95 backdrop-blur-lg rounded-2xl border border-indigo-500/40 shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col overflow-hidden">
        <div className="flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gray-900">
          <div>
            <p className="text-xs uppercase tracking-widest text-indigo-400 mb-1">CIVILIZATION KNOWLEDGE BASE</p>
            <h2 className="text-2xl font-bold text-white flex items-center gap-2">
              <Icon name="BookOpen" size={24} className="text-indigo-300"/>
              æ–‡æ˜ç™¾ç§‘å…¨ä¹¦
            </h2>
          </div>
          <button
            onClick={onClose}
            className="p-2 rounded-lg border border-gray-700 text-gray-300 hover:text-white hover:border-gray-500 transition-colors"
            aria-label="å…³é—­ç™¾ç§‘"
          >
            <Icon name="X" size={20} />
          </button>
        </div>

        <div className="flex flex-1 overflow-hidden">
          <aside className="w-72 border-r border-gray-800 bg-gray-900/60 flex flex-col">
            {/* ä¾§è¾¹æ åˆ†ç±»æŒ‰é’® */}
            <div className="grid grid-cols-2 gap-2 p-4">
              {CATEGORY_CONFIG.map((category) => {
                const isActive = category.id === selectedCategory;
                return (
                  <button
                    key={category.id}
                    type="button"
                    onClick={() => setSelectedCategory(category.id)}
                    className={`flex items-center gap-2 px-3 py-2 rounded-lg border text-xs font-medium transition-colors ${
                      isActive
                        ? 'border-indigo-400 bg-indigo-900/40 text-indigo-100'
                        : 'border-gray-700 text-gray-400 hover:text-gray-100 hover:border-gray-500'
                    }`}
                  >
                    <Icon name={category.icon} size={14} />
                    <span>{category.label}</span>
                  </button>
                );
              })}
            </div>

            {/* æœç´¢æ¡† */}
            <div className="px-4 pb-2">
              <div className="relative">
                <Icon
                  name="Search"
                  size={14}
                  className="text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"
                />
                <input
                  type="text"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  placeholder={`æœç´¢${CATEGORY_CONFIG.find(c=>c.id===selectedCategory)?.label}...`}
                  className="w-full bg-gray-800/70 border border-gray-700 rounded-lg pl-9 pr-3 py-2 text-xs text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                />
              </div>
            </div>

            {/* æ¡ç›®åˆ—è¡¨ */}
            <div className="flex-1 overflow-y-auto px-3 pb-4 space-y-1 scrollbar-thin scrollbar-thumb-gray-700">
              {filteredEntries.length === 0 ? (
                <p className="text-xs text-gray-500 px-2 py-4 text-center border border-dashed border-gray-800 rounded-lg">
                  æš‚æ— ç¬¦åˆæ¡ä»¶çš„æ¡ç›®
                </p>
              ) : (
                filteredEntries.map((entry) => {
                  const isActive = entry.id === selectedEntryId;
                  return (
                    <button
                      key={entry.id}
                      type="button"
                      onClick={() => setSelectedEntryId(entry.id)}
                      className={`w-full text-left px-3 py-2.5 rounded-xl border transition-all ${
                        isActive
                          ? 'bg-indigo-900/30 border-indigo-500/40 shadow-sm'
                          : 'bg-transparent border-transparent hover:bg-gray-800/50 hover:border-gray-700'
                      }`}
                    >
                      <p className={`text-sm font-semibold flex items-center gap-2 ${isActive ? 'text-indigo-200' : 'text-gray-300'}`}>
                        <Icon name={entry.icon || 'Bookmark'} size={14} className={isActive ? 'text-indigo-300' : entry.iconColor} />
                        {entry.name}
                      </p>
                      {entry.summary && (
                        <p className="text-[11px] text-gray-500 mt-0.5 truncate ml-6">{entry.summary}</p>
                      )}
                    </button>
                  );
                })
              )}
            </div>
          </aside>

          <section className="flex-1 flex flex-col bg-gray-900/30">
            {selectedEntry ? (
              <>
                <div className="p-6 border-b border-gray-800 bg-gray-800/20">
                  <div className="flex items-center gap-4">
                    <div className="p-3 rounded-2xl bg-gray-800 shadow-lg border border-gray-700">
                      <Icon name={selectedEntry.icon || 'Book'} size={32} className={selectedEntry.iconColor} />
                    </div>
                    <div>
                      <p className="text-xs uppercase tracking-widest text-indigo-400 mb-1">
                        {CATEGORY_CONFIG.find((c) => c.id === selectedCategory)?.label}
                      </p>
                      <h3 className="text-3xl font-bold text-white">{selectedEntry.name}</h3>
                      {selectedEntry.summary && (
                        <p className="text-sm text-gray-400 mt-1">{selectedEntry.summary}</p>
                      )}
                    </div>
                  </div>
                </div>

                <div className="flex-1 overflow-y-auto p-8 space-y-8 scrollbar-thin scrollbar-thumb-gray-600">
                  {renderEntryDetails(selectedEntry)}
                </div>
              </>
            ) : (
              <div className="flex-1 flex flex-col items-center justify-center text-gray-500 opacity-50">
                <Icon name="BookOpen" size={64} className="mb-4" />
                <p>è¯·ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ¡ç›®æŸ¥çœ‹è¯¦æƒ…</p>
              </div>
            )}
          </section>
        </div>
      </div>
    </div>
  );
};

const renderEntryDetails = (entry) => {
  const { data, type } = entry;
  if (!data) {
    return <p className="text-gray-400">æš‚æ— è¯¦æƒ…ã€‚</p>;
  }

  switch (type) {
    case 'mechanics':
      return renderMechanicsDetails(data);
    case 'economy':
      return renderEconomyDetails(data);
    case 'building':
      return renderBuildingDetails(data);
    case 'military':
      return renderMilitaryDetails(data);
    case 'technology':
      return renderTechDetails(data);
    case 'decree':
      return renderDecreeDetails(data);
    case 'resource':
      return renderResourceDetails(data);
    default:
      return (
        <div className="space-y-4">
          <p className="text-gray-300">{entry.summary || 'æš‚æ— æè¿°ã€‚'}</p>
        </div>
      );
  }
};

const renderMechanicsDetails = (content) => {
  if (!Array.isArray(content)) return null;
  
  return (
    <div className="space-y-6 max-w-3xl">
      {content.map((block, idx) => {
        if (block.type === 'h4') {
          return <h4 key={idx} className="text-lg font-bold text-indigo-300 mt-6 mb-2 pb-2 border-b border-gray-700">{block.text}</h4>;
        }
        if (block.type === 'p') {
          return <p key={idx} className="text-gray-300 leading-7 text-sm">{block.text}</p>;
        }
        if (block.type === 'list') {
          return (
            <ul key={idx} className="list-disc list-inside space-y-2 bg-gray-800/40 p-4 rounded-lg border border-gray-700/50">
              {block.items.map((item, i) => (
                <li key={i} className="text-gray-300 text-sm">{item}</li>
              ))}
            </ul>
          );
        }
        return null;
      })}
    </div>
  );
};

const renderEconomyDetails = (data) => {
  const rows = [
    data.weight !== undefined && { label: 'åˆ†é…æƒé‡', value: formatNumber(data.weight) },
    data.tax !== undefined && { label: 'ç¨æ”¶è´¡çŒ® (æ¯äºº)', value: formatNumber(data.tax) },
    data.headTaxBase !== undefined && { label: 'äººå¤´ç¨åŸºå‡†', value: `${formatNumber(data.headTaxBase)} é“¶å¸/æ—¥` },
    data.admin !== undefined && { label: 'è¡Œæ”¿å‹åŠ›', value: formatNumber(data.admin) },
    data.wealthWeight !== undefined && { label: 'è´¢å¯Œç³»æ•°', value: formatNumber(data.wealthWeight) },
    data.influenceBase !== undefined && { label: 'åŸºç¡€å½±å“åŠ›', value: formatNumber(data.influenceBase) },
    data.startingWealth !== undefined && { label: 'åˆå§‹è´¢å¯Œ', value: `${formatNumber(data.startingWealth)} é“¶å¸` },
    data.defaultResource && { label: 'ç”Ÿäº§èµ„æº', value: getResourceMeta(data.defaultResource).name },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc}</p>
      </div>
      <InfoGrid rows={rows} />
      {renderResourceSection('æ—¥å¸¸ç‰©èµ„éœ€æ±‚', data.needs)}
      <StrataBuffs buffs={data.buffs} />
    </div>
  );
};

const renderBuildingDetails = (data) => {
  const rows = [
    data.cat && { label: 'å»ºç­‘ç±»åˆ«', value: BUILDING_CATEGORY_LABELS[data.cat] || data.cat },
    data.owner && { label: 'è¿è¥é˜¶å±‚', value: stratumNameById(data.owner) },
    (data.epoch !== undefined || data.unlockEpoch !== undefined) && {
      label: 'è§£é”æ—¶ä»£',
      value: formatEpoch(data.epoch ?? data.unlockEpoch),
    },
    data.requiresTech && { label: 'å‰ç½®ç§‘æŠ€', value: techNameById(data.requiresTech) },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc}</p>
      </div>
      <InfoGrid rows={rows} />
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {renderResourceSection('å»ºé€ æˆæœ¬', data.baseCost)}
        {renderResourceSection('äº§å‡ºèµ„æº', data.output)}
        {renderResourceSection('æ¶ˆè€—åŸæ–™', data.input)}
        {renderJobSection(data.jobs)}
      </div>
    </div>
  );
};

const renderMilitaryDetails = (data) => {
  const rows = [
    data.category && { label: 'å…µç§ç±»åˆ«', value: UNIT_CATEGORY_LABELS[data.category] || data.category },
    data.epoch !== undefined && { label: 'è§£é”æ—¶ä»£', value: formatEpoch(data.epoch) },
    data.adminCost !== undefined && { label: 'è¡Œæ”¿æ¶ˆè€—', value: formatNumber(data.adminCost) },
    data.populationCost !== undefined && { label: 'äººå£å ç”¨', value: formatNumber(data.populationCost) },
    data.trainingTime !== undefined && { label: 'è®­ç»ƒæ—¶é—´ (ç§’)', value: formatNumber(data.trainingTime) },
    data.attack !== undefined && { label: 'æ”»å‡»åŠ›', value: formatNumber(data.attack) },
    data.defense !== undefined && { label: 'é˜²å¾¡åŠ›', value: formatNumber(data.defense) },
    data.speed !== undefined && { label: 'æœºåŠ¨é€Ÿåº¦', value: formatNumber(data.speed) },
    data.range !== undefined && { label: 'å°„ç¨‹', value: formatNumber(data.range) },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc}</p>
      </div>
      <InfoGrid rows={rows} />
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {renderResourceSection('å¾å¬æˆæœ¬', data.recruitCost)}
        {renderResourceSection('æ¯æ—¥ç»´æŠ¤', data.maintenanceCost)}
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {renderListSection('ç‰¹æ®Šèƒ½åŠ›', data.abilities)}
        {renderListSection('å…‹åˆ¶å¯¹è±¡', flattenEffects(data.counters).map(s => s.replace('infantry', 'æ­¥å…µ').replace('cavalry', 'éª‘å…µ').replace('archer', 'è¿œç¨‹').replace('siege', 'æ”»åŸ')))}
      </div>
    </div>
  );
};

const renderTechDetails = (data) => {
  const rows = [
    data.epoch !== undefined && { label: 'æ‰€å±æ—¶ä»£', value: formatEpoch(data.epoch) },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc}</p>
      </div>
      <InfoGrid rows={rows} />
      {renderResourceSection('ç§‘ç ”æˆæœ¬', data.cost)}
      {renderListSection('ç§‘æŠ€æ•ˆæœ', flattenEffects(data.effects))}
    </div>
  );
};

const renderDecreeDetails = (data) => {
  const rows = [
    data.category && { label: 'æ”¿ä»¤ç±»åˆ«', value: data.category === 'economy' ? 'ç»æµ' : data.category === 'military' ? 'å†›äº‹' : data.category === 'culture' ? 'æ–‡åŒ–' : 'ç¤¾ä¼š' },
    data.unlockEpoch !== undefined && { label: 'è§£é”æ—¶ä»£', value: formatEpoch(data.unlockEpoch) },
    data.cost && { label: 'è¡Œæ”¿æ¶ˆè€—', value: flattenEffects(data.cost).join('ï¼Œ') },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc}</p>
      </div>
      <InfoGrid rows={rows} />
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div className="p-4 bg-green-900/20 border border-green-800/30 rounded-lg">
          {renderListSection('æ­£é¢æ•ˆæœ', data.effects)}
        </div>
        <div className="p-4 bg-red-900/20 border border-red-800/30 rounded-lg">
          {renderListSection('è´Ÿé¢ä»£ä»·', data.drawbacks)}
        </div>
      </div>
    </div>
  );
};

const renderResourceDetails = (data) => {
  const rows = [
    data.basePrice !== undefined && { label: 'åŸºç¡€ä»·æ ¼', value: `${formatNumber(data.basePrice)} é“¶å¸` },
    data.type && { label: 'èµ„æºç±»å‹', value: data.type === 'currency' ? 'è´§å¸' : data.type === 'virtual' ? 'æ¦‚å¿µ' : 'å®ç‰©' },
    data.unlockEpoch !== undefined && { label: 'è§£é”æ—¶ä»£', value: formatEpoch(data.unlockEpoch) },
    data.unlockTech && { label: 'è§£é”ç§‘æŠ€', value: techNameById(data.unlockTech) },
    data.defaultOwner && { label: 'ä¸»è¦ç”Ÿäº§è€…', value: stratumNameById(data.defaultOwner) },
  ].filter(Boolean);

  return (
    <div className="space-y-6">
      <div className="bg-gray-800/40 p-4 rounded-xl border border-gray-700/50">
        <p className="text-gray-300 leading-relaxed text-sm">{data.desc || 'åŸºç¡€èµ„æºä¿¡æ¯'}</p>
      </div>
      <InfoGrid rows={rows} />
      <ResourceTags tags={data.tags} />
    </div>
  );
};